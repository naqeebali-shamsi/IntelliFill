FROM oven/bun:1-alpine

WORKDIR /app

# Copy package files
COPY package*.json bun.lockb* ./

# Install dependencies with Bun
RUN bun install --frozen-lockfile 2>/dev/null || bun install

# The source code will be mounted as volume
# so we don't copy it here

EXPOSE 5173

# Default command for development
# Vite needs --host flag to listen on all interfaces in Docker
CMD ["bun", "run", "dev", "--", "--host", "0.0.0.0"]