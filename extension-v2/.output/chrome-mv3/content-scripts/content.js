var content=(function(){"use strict";var je=Object.defineProperty;var qe=(P,I,N)=>I in P?je(P,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):P[I]=N;var T=(P,I,N)=>qe(P,typeof I!="symbol"?I+"":I,N);function P(t){return t}function I(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N={exports:{}},ae=N.exports,Q;function le(){return Q||(Q=1,(function(t,e){(function(s,r){r(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ae,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const r="The message port closed before a response was received.",n=i=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(c,u=void 0){super(u),this.createItem=c}get(c){return this.has(c)||this.set(c,this.createItem(c)),super.get(c)}}const d=a=>a&&typeof a=="object"&&typeof a.then=="function",g=(a,c)=>(...u)=>{i.runtime.lastError?a.reject(new Error(i.runtime.lastError.message)):c.singleCallbackArg||u.length<=1&&c.singleCallbackArg!==!1?a.resolve(u[0]):a.resolve(u)},p=a=>a==1?"argument":"arguments",C=(a,c)=>function(f,...E){if(E.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${p(c.minArgs)} for ${a}(), got ${E.length}`);if(E.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${p(c.maxArgs)} for ${a}(), got ${E.length}`);return new Promise((S,k)=>{if(c.fallbackToNoCallback)try{f[a](...E,g({resolve:S,reject:k},c))}catch(m){console.warn(`${a} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,m),f[a](...E),c.fallbackToNoCallback=!1,c.noCallback=!0,S()}else c.noCallback?(f[a](...E),S()):f[a](...E,g({resolve:S,reject:k},c))})},R=(a,c,u)=>new Proxy(c,{apply(f,E,S){return u.call(E,a,...S)}});let h=Function.call.bind(Object.prototype.hasOwnProperty);const w=(a,c={},u={})=>{let f=Object.create(null),E={has(k,m){return m in a||m in f},get(k,m,_){if(m in f)return f[m];if(!(m in a))return;let y=a[m];if(typeof y=="function")if(typeof c[m]=="function")y=R(a,a[m],c[m]);else if(h(u,m)){let O=C(m,u[m]);y=R(a,a[m],O)}else y=y.bind(a);else if(typeof y=="object"&&y!==null&&(h(c,m)||h(u,m)))y=w(y,c[m],u[m]);else if(h(u,"*"))y=w(y,c[m],u["*"]);else return Object.defineProperty(f,m,{configurable:!0,enumerable:!0,get(){return a[m]},set(O){a[m]=O}}),y;return f[m]=y,y},set(k,m,_,y){return m in f?f[m]=_:a[m]=_,!0},defineProperty(k,m,_){return Reflect.defineProperty(f,m,_)},deleteProperty(k,m){return Reflect.deleteProperty(f,m)}},S=Object.create(a);return new Proxy(S,E)},b=a=>({addListener(c,u,...f){c.addListener(a.get(u),...f)},hasListener(c,u){return c.hasListener(a.get(u))},removeListener(c,u){c.removeListener(a.get(u))}}),A=new l(a=>typeof a!="function"?a:function(u){const f=w(u,{},{getContent:{minArgs:0,maxArgs:0}});a(f)}),x=new l(a=>typeof a!="function"?a:function(u,f,E){let S=!1,k,m=new Promise(K=>{k=function(L){S=!0,K(L)}}),_;try{_=a(u,f,k)}catch(K){_=Promise.reject(K)}const y=_!==!0&&d(_);if(_!==!0&&!y&&!S)return!1;const O=K=>{K.then(L=>{E(L)},L=>{let J;L&&(L instanceof Error||typeof L.message=="string")?J=L.message:J="An unexpected error occurred",E({__mozWebExtensionPolyfillReject__:!0,message:J})}).catch(L=>{console.error("Failed to send onMessage rejected reply",L)})};return O(y?_:m),!0}),M=({reject:a,resolve:c},u)=>{i.runtime.lastError?i.runtime.lastError.message===r?c():a(new Error(i.runtime.lastError.message)):u&&u.__mozWebExtensionPolyfillReject__?a(new Error(u.message)):c(u)},F=(a,c,u,...f)=>{if(f.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${p(c.minArgs)} for ${a}(), got ${f.length}`);if(f.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${p(c.maxArgs)} for ${a}(), got ${f.length}`);return new Promise((E,S)=>{const k=M.bind(null,{resolve:E,reject:S});f.push(k),u.sendMessage(...f)})},V={devtools:{network:{onRequestFinished:b(A)}},runtime:{onMessage:b(x),onMessageExternal:b(x),sendMessage:F.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:F.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},z={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":z},services:{"*":z},websites:{"*":z}},w(i,V,o)};s.exports=n(chrome)}})})(N)),N.exports}var ce=le();const D=I(ce);var v=(t=>(t.TEXT="text",t.EMAIL="email",t.PHONE="phone",t.DATE="date",t.ADDRESS="address",t.SSN="ssn",t.NUMBER="number",t.UNKNOWN="unknown",t))(v||{});const de={[v.EMAIL]:[/email/i,/e[-_]?mail/i,/mail/i],[v.PHONE]:[/phone/i,/tel/i,/mobile/i,/cell/i,/fax/i],[v.DATE]:[/date/i,/birth/i,/dob/i,/day/i,/month/i,/year/i,/expire/i,/expiry/i],[v.ADDRESS]:[/address/i,/street/i,/city/i,/state/i,/zip/i,/postal/i,/country/i,/location/i],[v.SSN]:[/ssn/i,/social[-_]?security/i,/tax[-_]?id/i,/ein/i],[v.NUMBER]:[/number/i,/num/i,/id/i,/account/i,/reference/i,/ref/i]},W=['input[type="text"]','input[type="email"]','input[type="tel"]','input[type="date"]','input[type="number"]','input[type="search"]','input[type="url"]',"input:not([type])","textarea","select"].join(", "),me=['[type="password"]','[type="hidden"]','[type="submit"]','[type="button"]','[type="reset"]','[type="file"]','[type="image"]','[type="checkbox"]','[type="radio"]',"[disabled]","[readonly]",'[aria-hidden="true"]',".intellifill-autocomplete","[data-intellifill-processed]"].join(", "),ue=["[data-intellifill-ignore]",".captcha",".recaptcha"];function ge(t){var n;const e=(n=t.type)==null?void 0:n.toLowerCase();if(e==="email")return v.EMAIL;if(e==="tel")return v.PHONE;if(e==="date")return v.DATE;if(e==="number")return v.NUMBER;const r=ee(t).toLowerCase().trim();for(const[i,o]of Object.entries(de))for(const l of o)if(l.test(r))return i;return v.TEXT}function ee(t){return t.name||t.id||t.placeholder||t.getAttribute("aria-label")||t.getAttribute("autocomplete")||""}function fe(t){var n,i;if(t.id){const o=document.querySelector(`label[for="${CSS.escape(t.id)}"]`);if(o)return((n=o.textContent)==null?void 0:n.trim())||""}const e=t.closest("label");if(e){const o=e.cloneNode(!0);return o.querySelectorAll("input, textarea, select").forEach(d=>d.remove()),((i=o.textContent)==null?void 0:i.trim())||""}const s=t.getAttribute("aria-label");if(s)return s.trim();const r=t.placeholder;return r?r.trim():""}function he(t){if(!t.offsetParent&&t.style.display!=="fixed")return!1;const e=window.getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&e.opacity!=="0"}function pe(t){if(t.matches(me))return!0;for(const e of ue)if(t.closest(e))return!0;return!1}function Ae(t){t.setAttribute("data-intellifill-processed","true")}function te(){const t=[];return document.querySelectorAll(W).forEach(s=>{pe(s)||he(s)&&t.push({element:s,name:ee(s),label:fe(s),type:ge(s),tagName:s.tagName.toLowerCase(),inputType:s.type||"text",value:s.value||"",isRequired:s.required||s.hasAttribute("required"),autocomplete:s.getAttribute("autocomplete")||""})}),t}function be(t){let e=null;const s=new MutationObserver(r=>{let n=!1;for(const i of r)i.type==="childList"&&i.addedNodes.length>0&&i.addedNodes.forEach(o=>{var l,d;if(o.nodeType===Node.ELEMENT_NODE){const g=o;(((l=g.matches)==null?void 0:l.call(g,W))||((d=g.querySelector)==null?void 0:d.call(g,W)))&&(n=!0)}});n&&(e&&clearTimeout(e),e=setTimeout(t,200))});return s.observe(document.body,{childList:!0,subtree:!0}),s}const we={"given-name":"firstName","additional-name":"middleName","family-name":"lastName",name:"fullName","honorific-prefix":"prefix","honorific-suffix":"suffix",nickname:"nickname",email:"email",tel:"phone","tel-national":"phone","tel-local":"phone","street-address":"streetAddress","address-line1":"streetAddress","address-line2":"streetAddress2","address-level2":"city","address-level1":"state","postal-code":"zipCode",country:"country","country-name":"country",bday:"dateOfBirth","bday-day":"birthDay","bday-month":"birthMonth","bday-year":"birthYear",sex:"gender",organization:"company","organization-title":"jobTitle",url:"website",username:"username","tel-country-code":"phoneCountryCode","address-level3":"district","cc-name":"cardholderName","cc-number":"cardNumber","cc-exp":"cardExpiry","cc-csc":"cardCVC"},xe={firstName:/\b(first[-_\s]?name|fname|given[-_\s]?name|forename|vorname|prenom|nombre)\b/i,middleName:/\b(middle[-_\s]?name|mname|zweiter[-_\s]?name)\b/i,lastName:/\b(last[-_\s]?name|lname|family[-_\s]?name|surname|nachname|nom[-_\s]?de[-_\s]?famille|apellido)\b/i,fullName:/\b(full[-_\s]?name|your[-_\s]?name|name|anrede)\b/i,username:/\b(user[-_\s]?name|screen[-_\s]?name|login[-_\s]?name|login[-_\s]?id|benutzername)\b/i,email:/\b(e[-_\s]?mail|email[-_\s]?address|correo)\b/i,phone:/\b(phone|telephone|tel|mobile|cell[-_\s]?phone|contact[-_\s]?number|telefon|handy|telefono|numero[-_\s]?de[-_\s]?telephone)\b/i,streetAddress:/\b(street|address[-_\s]?1|address[-_\s]?line[-_\s]?1|street[-_\s]?address|mailing[-_\s]?address|addr|strasse|straße|rue|direccion|calle)\b/i,streetAddress2:/\b(address[-_\s]?2|address[-_\s]?line[-_\s]?2|apt|suite|unit|zusatz)\b/i,city:/\b(city|town|municipality|locality|stadt|ville|ciudad|ort)\b/i,state:/\b(state|province|region|bundesland|departement|provincia|kanton)\b/i,zipCode:/\b(zip|zip[-_\s]?code|postal[-_\s]?code|postcode|plz|code[-_\s]?postal|codigo[-_\s]?postal)\b/i,country:/\b(country|nation|land|pays|pais)\b/i,dateOfBirth:/\b(date[-_\s]?of[-_\s]?birth|dob|birth[-_\s]?date|birthday|geburtsdatum|fecha[-_\s]?de[-_\s]?nacimiento)\b/i,birthDay:/\b(birth[-_\s]?day|day[-_\s]?of[-_\s]?birth|geburtstag)\b/i,birthMonth:/\b(birth[-_\s]?month|month[-_\s]?of[-_\s]?birth|geburtsmonat)\b/i,birthYear:/\b(birth[-_\s]?year|year[-_\s]?of[-_\s]?birth|geburtsjahr)\b/i,gender:/\b(gender|sex|geschlecht|sexe|genero)\b/i,company:/\b(company|organization|employer|business|firma|unternehmen|entreprise|empresa)\b/i,jobTitle:/\b(job[-_\s]?title|title|position|role|occupation|beruf|berufsbezeichnung|titulo)\b/i,ssn:/\b(ssn|social[-_\s]?security|tax[-_\s]?id|tin|steuer[-_\s]?id)\b/i,website:/\b(website|url|homepage|web[-_\s]?address|webseite)\b/i,driversLicense:/\b(driver'?s?[-_\s]?licen[sc]e|dl[-_\s]?number|fuehrerschein|führerschein)\b/i,passportNumber:/\b(passport[-_\s]?number|passport|reisepass)\b/i},ye={[v.EMAIL]:["email"],[v.PHONE]:["phone"],[v.DATE]:["dateOfBirth"],[v.SSN]:["ssn"],[v.ADDRESS]:["streetAddress","city","state","zipCode","country"]};function se(t){return t.toLowerCase().replace(/[-_\s]+/g,"").replace(/[^a-z0-9]/g,"")}function ve(t,e){const s=e.length+1,r=t.length+1,n=new Array(s*r).fill(0);for(let i=0;i<s;i++)n[i*r]=i;for(let i=0;i<r;i++)n[i]=i;for(let i=1;i<s;i++)for(let o=1;o<r;o++){const l=e[i-1]===t[o-1]?0:1;n[i*r+o]=Math.min((n[(i-1)*r+o]??0)+1,(n[i*r+(o-1)]??0)+1,(n[(i-1)*r+(o-1)]??0)+l)}return n[e.length*r+t.length]??0}function Ee(t,e){const s=se(t),r=se(e);if(s===r)return 1;if(s.length===0||r.length===0)return 0;const n=Math.max(s.length,r.length);return 1-ve(s,r)/n}function Te(t){const e=new Map;for(const s of t){const r=s.values[0];r!==void 0&&e.set(s.key,r)}return e}function Se(t){const e=[];return t.name&&e.push(t.name),t.label&&e.push(t.label),t.element.id&&e.push(t.element.id),t.element.placeholder&&e.push(t.element.placeholder),e}function ke(t,e){const s=[],r=new Set;function n(l,d,g){const p=e.get(l);!p||r.has(l)||(r.add(l),s.push({profileField:l,value:p,confidence:d,matchMethod:g}))}if(t.autocomplete){const l=t.autocomplete.replace(/^(shipping|billing)\s+/,"").trim(),d=we[l];d&&n(d,.95,"autocomplete")}const i=ye[t.type];if(i)for(const l of i)n(l,.85,"type");const o=Se(t);for(const[l,d]of Object.entries(xe))for(const g of o)if(d.test(g)){n(l,.8,"name");break}if(s.length===0)for(const l of o)for(const[d]of e){const g=Ee(l,d);g>=.6&&n(d,g*.64,"fuzzy")}return s.sort((l,d)=>d.confidence-l.confidence),s}function re(t,e){const s=t.element;return{index:e,name:t.name||"",label:t.label||"",type:t.type,inputType:s.type||"",autocomplete:t.autocomplete||"",placeholder:s.placeholder||""}}function ne(t,e){const s=Te(e),r=[],n=[];for(let i=0;i<t.length;i++){const o=t[i],l=ke(o,s);l.length>0?r.push({field:o,matches:l}):n.push({field:o,context:re(o,i)})}return{matched:r,unmatched:n}}function _e(t){var e,s;return t instanceof HTMLInputElement?((e=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))==null?void 0:e.set)??null:t instanceof HTMLTextAreaElement?((s=Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value"))==null?void 0:s.set)??null:null}function U(t){t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new Event("blur",{bubbles:!0}))}function Ce(t){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const e=new Date(t);return isNaN(e.getTime())?t:e.toISOString().split("T")[0]??t}function Me(t,e){const s=e.toLowerCase().trim(),r=Array.from(t.options),n=r.find(l=>l.value.toLowerCase()===s);if(n)return t.value=n.value,U(t),!0;const i=r.find(l=>l.text.toLowerCase().trim()===s);if(i)return t.value=i.value,U(t),!0;const o=r.find(l=>l.text.toLowerCase().includes(s)||s.includes(l.text.toLowerCase().trim()));return o?(t.value=o.value,U(t),!0):!1}function Le(t,e){var i;const r=((i=t.type)==null?void 0:i.toLowerCase())==="date"?Ce(e):e,n=_e(t);return n?n.call(t,r):t.value=r,t.focus(),U(t),!0}function Y(t,e){try{return t instanceof HTMLSelectElement?Me(t,e):Le(t,e)}catch(s){return console.error("IntelliFill: Error filling field",s),!1}}function Ie(t){var s;const e={filled:0,skipped:0,failed:0};for(const{field:r,matches:n}of t){if(n.length!==1){e.skipped++;continue}if((s=r.element.value)!=null&&s.trim()){e.skipped++;continue}const i=n[0];if(!i){e.skipped++;continue}Y(r.element,i.value)?e.filled++:e.failed++}return e}const Ne=5,Fe="intellifill-autocomplete-root",De=`
  :host {
    all: initial;
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    z-index: 2147483647;
    pointer-events: none;
  }

  .if-badge {
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #6366f1;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    pointer-events: auto;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    transition: transform 0.15s ease;
    z-index: 2147483647;
  }

  .if-badge:hover {
    transform: scale(1.15);
  }

  .if-badge svg {
    width: 10px;
    height: 10px;
    fill: white;
  }

  .if-dropdown {
    position: absolute;
    min-width: 220px;
    max-width: 360px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.12);
    pointer-events: auto;
    overflow: hidden;
    z-index: 2147483647;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  }

  .if-dropdown-header {
    padding: 6px 10px;
    font-size: 11px;
    color: #64748b;
    border-bottom: 1px solid #f1f5f9;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .if-dropdown-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    cursor: pointer;
    font-size: 13px;
    color: #1e293b;
    transition: background 0.1s;
  }

  .if-dropdown-item:hover,
  .if-dropdown-item.if-active {
    background: #f1f5f9;
  }

  .if-dropdown-item-value {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-right: 8px;
  }

  .if-dropdown-item-confidence {
    font-size: 10px;
    padding: 2px 5px;
    border-radius: 4px;
    flex-shrink: 0;
  }

  .if-confidence-high {
    background: #dcfce7;
    color: #166534;
  }

  .if-confidence-medium {
    background: #fef9c3;
    color: #854d0e;
  }

  .if-confidence-low {
    background: #fee2e2;
    color: #991b1b;
  }

  .if-toast {
    position: fixed;
    bottom: 24px;
    right: 24px;
    background: #1e293b;
    color: white;
    padding: 10px 18px;
    border-radius: 8px;
    font-size: 13px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    pointer-events: auto;
    opacity: 0;
    transform: translateY(8px);
    transition: opacity 0.2s, transform 0.2s;
    z-index: 2147483647;
  }

  .if-toast.if-visible {
    opacity: 1;
    transform: translateY(0);
  }
`;function Pe(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 24 24");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),t.appendChild(e),t}class Re{constructor(){T(this,"shadowHost",null);T(this,"shadowRoot",null);T(this,"fieldUIMap",new Map);T(this,"focusListeners",new Map);T(this,"activeDropdown",null);T(this,"mutationObserver",null);T(this,"scrollHandler",null);T(this,"repositionTimer",null);T(this,"keydownHandler",null);T(this,"outsideClickHandler",null)}init(){if(this.shadowHost)return;this.shadowHost=document.createElement("div"),this.shadowHost.id=Fe,this.shadowHost.style.cssText="position:absolute;top:0;left:0;width:0;height:0;overflow:visible;z-index:2147483647;pointer-events:none;",document.body.appendChild(this.shadowHost),this.shadowRoot=this.shadowHost.attachShadow({mode:"closed"});const e=document.createElement("style");e.textContent=De,this.shadowRoot.appendChild(e),this.scrollHandler=this.debounce(()=>this.repositionAll(),50),window.addEventListener("scroll",this.scrollHandler,!0),window.addEventListener("resize",this.scrollHandler),this.mutationObserver=new MutationObserver(s=>{for(const r of s)r.removedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&this.cleanupRemovedElements(n)})}),this.mutationObserver.observe(document.body,{childList:!0,subtree:!0})}attachToFields(e){this.shadowRoot||this.init();for(const s of e){const r=s.field.element;if(this.fieldUIMap.has(r))continue;const n=this.createBadge(r,s),i={matchedField:s,badge:n,dropdown:null};this.fieldUIMap.set(r,i);const o=()=>this.showDropdown(r);r.addEventListener("focus",o),this.focusListeners.set(r,o)}}destroy(){this.closeDropdown();for(const[e,s]of this.fieldUIMap){s.badge.remove(),s.dropdown&&s.dropdown.remove();const r=this.focusListeners.get(e);r&&e.removeEventListener("focus",r)}this.fieldUIMap.clear(),this.focusListeners.clear(),this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),window.removeEventListener("resize",this.scrollHandler)),this.mutationObserver&&this.mutationObserver.disconnect(),this.repositionTimer&&clearTimeout(this.repositionTimer),this.shadowHost&&(this.shadowHost.remove(),this.shadowHost=null,this.shadowRoot=null)}showToast(e,s=2500){if(!this.shadowRoot)return;const r=document.createElement("div");r.className="if-toast",r.textContent=e,this.shadowRoot.appendChild(r),requestAnimationFrame(()=>{r.classList.add("if-visible")}),setTimeout(()=>{r.classList.remove("if-visible"),setTimeout(()=>r.remove(),200)},s)}showFillResult(e){const s=[];e.filled>0&&s.push(`${e.filled} filled`),e.skipped>0&&s.push(`${e.skipped} skipped`),e.failed>0&&s.push(`${e.failed} failed`),this.showToast(`IntelliFill: ${s.join(", ")}`)}getMatchedFields(){return Array.from(this.fieldUIMap.values()).map(e=>e.matchedField)}createBadge(e,s){const r=document.createElement("div");return r.className="if-badge",r.appendChild(Pe()),r.title=`IntelliFill: ${s.matches.length} suggestion(s)`,this.shadowRoot.appendChild(r),this.positionBadge(r,e),r.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.toggleDropdown(e)}),r}positionBadge(e,s){const r=s.getBoundingClientRect(),n=window.scrollX,i=window.scrollY;e.style.top=`${r.top+i+(r.height-18)/2}px`,e.style.left=`${r.right+n-24}px`}toggleDropdown(e){var s;((s=this.activeDropdown)==null?void 0:s.element)===e?this.closeDropdown():this.showDropdown(e)}showDropdown(e){const s=this.fieldUIMap.get(e);if(!s||!this.shadowRoot)return;this.closeDropdown();const r=s.matchedField.matches.slice(0,Ne);if(r.length===0)return;const n=document.createElement("div");n.className="if-dropdown";const i=document.createElement("div");i.className="if-dropdown-header",i.textContent="IntelliFill Suggestions",n.appendChild(i),r.forEach((o,l)=>{const d=document.createElement("div");d.className="if-dropdown-item",l===0&&d.classList.add("if-active"),d.dataset.index=String(l);const g=document.createElement("span");g.className="if-dropdown-item-value",g.textContent=o.value,g.title=`${o.profileField} (${o.matchMethod})`,d.appendChild(g);const p=document.createElement("span");p.className="if-dropdown-item-confidence";const C=Math.round(o.confidence*100);p.textContent=`${C}%`,o.confidence>=.8?p.classList.add("if-confidence-high"):o.confidence>=.6?p.classList.add("if-confidence-medium"):p.classList.add("if-confidence-low"),d.appendChild(p),d.addEventListener("click",R=>{R.stopPropagation(),Y(e,o.value),this.closeDropdown()}),d.addEventListener("mouseenter",()=>{this.setActiveItem(n,l)}),n.appendChild(d)}),this.shadowRoot.appendChild(n),s.dropdown=n,this.positionDropdown(n,e),this.activeDropdown={element:e,index:0},this.keydownHandler=o=>this.handleDropdownKeydown(o,e,n),e.addEventListener("keydown",this.keydownHandler),this.outsideClickHandler=o=>{!n.contains(o.target)&&o.target!==e&&this.closeDropdown()},setTimeout(()=>{document.addEventListener("click",this.outsideClickHandler)},0)}closeDropdown(){if(!this.activeDropdown)return;const e=this.fieldUIMap.get(this.activeDropdown.element);e!=null&&e.dropdown&&(e.dropdown.remove(),e.dropdown=null),this.keydownHandler&&(this.activeDropdown.element.removeEventListener("keydown",this.keydownHandler),this.keydownHandler=null),this.outsideClickHandler&&(document.removeEventListener("click",this.outsideClickHandler),this.outsideClickHandler=null),this.activeDropdown=null}positionDropdown(e,s){const r=s.getBoundingClientRect(),n=window.scrollX,i=window.scrollY;e.style.top=`${r.bottom+i+4}px`,e.style.left=`${r.left+n}px`,e.style.minWidth=`${Math.max(220,r.width)}px`}setActiveItem(e,s){e.querySelectorAll(".if-dropdown-item").forEach((n,i)=>{n.classList.toggle("if-active",i===s)}),this.activeDropdown&&(this.activeDropdown.index=s)}handleDropdownKeydown(e,s,r){var o,l,d;const i=r.querySelectorAll(".if-dropdown-item").length;if(i!==0)switch(e.key){case"ArrowDown":{e.preventDefault();const g=((((o=this.activeDropdown)==null?void 0:o.index)??-1)+1)%i;this.setActiveItem(r,g);break}case"ArrowUp":{e.preventDefault();const g=((((l=this.activeDropdown)==null?void 0:l.index)??1)-1+i)%i;this.setActiveItem(r,g);break}case"Enter":{e.preventDefault();const g=((d=this.activeDropdown)==null?void 0:d.index)??0,p=this.fieldUIMap.get(s);if(p){const C=p.matchedField.matches[g];C&&(Y(s,C.value),this.closeDropdown())}break}case"Escape":e.preventDefault(),this.closeDropdown();break}}repositionAll(){var e;for(const[s,r]of this.fieldUIMap)this.positionBadge(r.badge,s),r.dropdown&&((e=this.activeDropdown)==null?void 0:e.element)===s&&this.positionDropdown(r.dropdown,s)}cleanupRemovedElements(e){var s;for(const[r,n]of this.fieldUIMap)if(e.contains(r)||!document.body.contains(r)){n.badge.remove(),n.dropdown&&n.dropdown.remove();const i=this.focusListeners.get(r);i&&r.removeEventListener("focus",i),this.focusListeners.delete(r),this.fieldUIMap.delete(r),((s=this.activeDropdown)==null?void 0:s.element)===r&&(this.activeDropdown=null)}}debounce(e,s){let r=null;return()=>{r&&clearTimeout(r),r=setTimeout(e,s)}}}let H=null;function ie(t){oe(),H=e=>{var s;if(!(!e.ctrlKey||!e.shiftKey))switch(e.key.toUpperCase()){case"F":e.preventDefault(),t.onFillAll();break;case"R":e.preventDefault(),t.onRefreshProfile();break;case"L":e.preventDefault(),(s=t.onInferFields)==null||s.call(t);break}},document.addEventListener("keydown",H)}function oe(){H&&(document.removeEventListener("keydown",H),H=null)}const Oe={matches:["<all_urls>"],runAt:"document_end",allFrames:!1,main(){console.log("IntelliFill: Content script loaded");let t=!0,e=null;const s=new Set;let r=null;const n=new Re;async function i(){try{const h=await D.runtime.sendMessage({action:"getProfile"});return h.success&&h.profile?(e=h.profile,console.log("IntelliFill: Profile loaded"),!0):(console.log("IntelliFill: No profile available"),!1)}catch(h){return console.error("IntelliFill: Error fetching profile",h),!1}}function o(){const h=n.getMatchedFields();if(h.length===0){n.showToast("IntelliFill: No matched fields to fill");return}const w=Ie(h);n.showFillResult(w)}async function l(){await i()&&(s.clear(),n.destroy(),p(),n.showToast("IntelliFill: Profile refreshed"))}let d=[];async function g(h){if(!e||h.length===0)return;const w=e.fields.map(A=>A.key),b=new Map(e.fields.map(A=>[A.key,A.values[0]??""]));try{const A=await D.runtime.sendMessage({action:"inferFields",fields:h.map(M=>M.context),profileKeys:w});if(!A.success||A.mappings.length===0)return;const x=[];for(const M of A.mappings){const F=h[M.index];if(!F)continue;const V=b.get(M.profileKey);if(!V)continue;const z={profileField:M.profileKey,value:V,confidence:M.confidence,matchMethod:"llm"};x.push({field:F.field,matches:[z]})}if(x.length>0){console.log(`IntelliFill: LLM matched ${x.length} additional fields`),n.attachToFields(x);const M=new Set(x.map(F=>F.field.element));d=d.filter(F=>!M.has(F.field.element))}}catch(A){console.error("IntelliFill: LLM inference failed, heuristic matching still active",A)}}function p(){if(!e)return;const h=te(),w=[];for(const x of h)s.has(x.element)||(s.add(x.element),Ae(x.element),x.element.setAttribute("data-intellifill-type",x.type),w.push(x));if(w.length===0)return;console.log(`IntelliFill: Processing ${w.length} new fields`);const{matched:b,unmatched:A}=ne(w,e.fields);console.log(`IntelliFill: Matched ${b.length} fields to profile data`),b.length>0&&n.attachToFields(b),A.length>0&&(console.log(`IntelliFill: ${A.length} unmatched fields, requesting LLM inference`),d=[...d,...A],g(A))}async function C(){if(!e){n.showToast("IntelliFill: No profile loaded");return}const h=te(),{unmatched:w}=ne(h,e.fields),b=w.map((A,x)=>({field:A.field,context:re(A.field,x)}));if(b.length===0){n.showToast("IntelliFill: All fields already matched");return}n.showToast(`IntelliFill: Inferring ${b.length} fields...`),d=b,await g(b)}async function R(){try{const w=(await D.storage.local.get(["settings"])).settings;if(t=(w==null?void 0:w.enabled)!==!1,!t){console.log("IntelliFill: Extension is disabled");return}await i(),e&&(p(),r=be(()=>{console.log("IntelliFill: New fields detected"),p()})),ie({onFillAll:o,onRefreshProfile:l,onInferFields:C})}catch(h){console.error("IntelliFill: Initialization failed",h)}}D.runtime.onMessage.addListener((h,w,b)=>{const A=h;switch(A.action){case"refreshProfile":l().then(()=>b({success:!0})).catch(()=>b({success:!1}));break;case"toggleExtension":t=A.enabled,t?(p(),ie({onFillAll:o,onRefreshProfile:l,onInferFields:C})):(s.clear(),n.destroy(),oe(),r&&(r.disconnect(),r=null)),b({success:!0});break;case"fillAll":o(),b({success:!0});break;case"inferFields":C().then(()=>b({success:!0})).catch(()=>b({success:!1}));break;case"getStatus":{const x={enabled:t,hasProfile:!!e,fieldsProcessed:s.size};b(x);break}}return!0}),R()}};function B(t,...e){}const He={debug:(...t)=>B(console.debug,...t),log:(...t)=>B(console.log,...t),warn:(...t)=>B(console.warn,...t),error:(...t)=>B(console.error,...t)},q=class q extends Event{constructor(e,s){super(q.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=s}};T(q,"EVENT_NAME",G("wxt:locationchange"));let X=q;function G(t){var e;return`${(e=D==null?void 0:D.runtime)==null?void 0:e.id}:content:${t}`}function $e(t){let e,s;return{run(){e==null&&(s=new URL(location.href),e=t.setInterval(()=>{let r=new URL(location.href);r.href!==s.href&&(window.dispatchEvent(new X(r,s)),s=r)},1e3))}}}const $=class ${constructor(e,s){T(this,"isTopFrame",window.self===window.top);T(this,"abortController");T(this,"locationWatcher",$e(this));T(this,"receivedMessageIds",new Set);this.contentScriptName=e,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return D.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,s){const r=setInterval(()=>{this.isValid&&e()},s);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(e,s){const r=setTimeout(()=>{this.isValid&&e()},s);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(e){const s=requestAnimationFrame((...r)=>{this.isValid&&e(...r)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(e,s){const r=requestIdleCallback((...n)=>{this.signal.aborted||e(...n)},s);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(e,s,r,n){var i;s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(i=e.addEventListener)==null||i.call(e,s.startsWith("wxt:")?G(s):s,r,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),He.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:$.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){var i,o,l;const s=((i=e.data)==null?void 0:i.type)===$.SCRIPT_STARTED_MESSAGE_TYPE,r=((o=e.data)==null?void 0:o.contentScriptName)===this.contentScriptName,n=!this.receivedMessageIds.has((l=e.data)==null?void 0:l.messageId);return s&&r&&n}listenForNewerScripts(e){let s=!0;const r=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const i=s;if(s=!1,i&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}};T($,"SCRIPT_STARTED_MESSAGE_TYPE",G("wxt:content-script-started"));let Z=$;const ze=Symbol("null");let Ke=0;class Ue extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,r]of e)this.set(s,r)}}_getPublicKeys(e,s=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(e,s);let n;return r&&this._publicKeys.has(r)?n=this._publicKeys.get(r):s&&(n=[...e],this._publicKeys.set(r,n)),{privateKey:r,publicKey:n}}_getPrivateKey(e,s=!1){const r=[];for(let n of e){n===null&&(n=ze);const i=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!i)r.push(n);else if(this[i].has(n))r.push(this[i].get(n));else if(s){const o=`@@mkm-ref-${Ke++}@@`;this[i].set(n,o),r.push(o)}else return!1}return JSON.stringify(r)}set(e,s){const{publicKey:r}=this._getPublicKeys(e,!0);return super.set(r,s)}get(e){const{publicKey:s}=this._getPublicKeys(e);return super.get(s)}has(e){const{publicKey:s}=this._getPublicKeys(e);return super.has(s)}delete(e){const{publicKey:s,privateKey:r}=this._getPublicKeys(e);return!!(s&&super.delete(s)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new Ue;function We(){}function j(t,...e){}const Be={debug:(...t)=>j(console.debug,...t),log:(...t)=>j(console.log,...t),warn:(...t)=>j(console.warn,...t),error:(...t)=>j(console.error,...t)};return(async()=>{try{const{main:t,...e}=Oe,s=new Z("content",e);return await t(s)}catch(t){throw Be.error('The content script "content" crashed on startup!',t),t}})()})();
content;
