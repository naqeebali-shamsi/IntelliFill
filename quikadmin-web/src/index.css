@import "tailwindcss";
@import "./styles/theme.css";
@config "../tailwind.config.js";

@theme {
  --font-sans: "DM Sans", system-ui, sans-serif;
  --font-heading: "Outfit", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", monospace;

  /* Animation utilities for shadcn/ui (tailwindcss-animate v4 compatible) */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-in: enter 0.2s ease-out;
  --animate-out: exit 0.2s ease-in;

  @keyframes enter {
    from {
      opacity: var(--tw-enter-opacity, 1);
      transform: translate3d(
          var(--tw-enter-translate-x, 0),
          var(--tw-enter-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1),
          var(--tw-enter-scale, 1)
        )
        rotate(var(--tw-enter-rotate, 0));
    }
  }

  @keyframes exit {
    to {
      opacity: var(--tw-exit-opacity, 1);
      transform: translate3d(
          var(--tw-exit-translate-x, 0),
          var(--tw-exit-translate-y, 0),
          0
        )
        scale3d(
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1),
          var(--tw-exit-scale, 1)
        )
        rotate(var(--tw-exit-rotate, 0));
    }
  }

  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }

  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
}

/* Animation utility classes for shadcn/ui compatibility */
@utility animate-in {
  animation-name: enter;
  animation-duration: 150ms;
  --tw-enter-opacity: initial;
  --tw-enter-scale: initial;
  --tw-enter-rotate: initial;
  --tw-enter-translate-x: initial;
  --tw-enter-translate-y: initial;
}

@utility animate-out {
  animation-name: exit;
  animation-duration: 150ms;
  --tw-exit-opacity: initial;
  --tw-exit-scale: initial;
  --tw-exit-rotate: initial;
  --tw-exit-translate-x: initial;
  --tw-exit-translate-y: initial;
}

@utility fade-in {
  --tw-enter-opacity: 0;
}

@utility fade-in-0 {
  --tw-enter-opacity: 0;
}

@utility fade-out-0 {
  --tw-exit-opacity: 0;
}

@utility zoom-in-95 {
  --tw-enter-scale: 0.95;
}

@utility zoom-out-95 {
  --tw-exit-scale: 0.95;
}

@utility slide-in-from-top-2 {
  --tw-enter-translate-y: -0.5rem;
}

@utility slide-in-from-bottom-2 {
  --tw-enter-translate-y: 0.5rem;
}

@utility slide-in-from-bottom-4 {
  --tw-enter-translate-y: 1rem;
}

@utility slide-in-from-left-2 {
  --tw-enter-translate-x: -0.5rem;
}

@utility slide-in-from-right-2 {
  --tw-enter-translate-x: 0.5rem;
}

@utility fill-mode-backwards {
  animation-fill-mode: backwards;
}

/* Utilities with special characters must use @layer utilities with escaped selectors */
@layer utilities {
  .slide-in-from-left-1\/2 {
    --tw-enter-translate-x: -50%;
  }

  .slide-in-from-top-\[48\%\] {
    --tw-enter-translate-y: -48%;
  }

  .slide-out-to-left-1\/2 {
    --tw-exit-translate-x: -50%;
  }

  .slide-out-to-top-\[48\%\] {
    --tw-exit-translate-y: -48%;
  }
}

@layer base {
  :root {
    /* IntelliFill Brand Theme - Light Mode (2026-01-06) */
    /* Brand Colors: Primary Teal #02C39A, Logo Black #222823 */
    /* Full color system in ./styles/theme.css */
    /* OKLCH Migration: Converted from HSL for perceptual uniformity */

    /* Hero Section - Deep Space Blue (hero-only, not used elsewhere) */
    --hero-bg: oklch(24.09% 0.050 232.82);

    --background: oklch(98.5% 0.003 240); /* slate-50 equivalent */
    --foreground: oklch(15% 0.015 240); /* slate-900 equivalent */

    --card: oklch(100% 0 0); /* pure white */
    --card-foreground: oklch(15% 0.015 240);

    --popover: oklch(100% 0 0);
    --popover-foreground: oklch(15% 0.015 240);

    --primary: oklch(72.87% 0.156 166.11); /* Brand Teal #02C39A */
    --primary-foreground: oklch(19.42% 0.012 145.28); /* Brand Black #222823 for contrast */

    --secondary: oklch(96% 0.005 240); /* Muted slate for secondary */
    --secondary-foreground: oklch(15% 0.015 240);

    --muted: oklch(96.5% 0.005 240);
    --muted-foreground: oklch(50% 0.015 240);

    --accent: oklch(96% 0.025 166.11); /* Teal-50 for subtle accents */
    --accent-foreground: oklch(40% 0.10 166.11); /* Teal-700 for text on accent */

    --destructive: oklch(55% 0.180 15); /* Rose-red for UAE context */
    --destructive-foreground: oklch(98.5% 0.003 240);

    --border: oklch(88% 0.008 240);
    --input: oklch(85% 0.008 240);
    --ring: oklch(72.87% 0.156 166.11); /* Match primary for focus rings */

    --radius: 0.75rem; /* 12px - Friendlier */

    /* Status Colors - Light Theme (distinct from brand) */
    /* Using OKLCH for perceptual uniformity */
    --status-pending: oklch(55% 0.180 250); /* Blue - Info/Processing */
    --status-pending-foreground: oklch(98% 0.005 240);

    --status-success: oklch(55% 0.155 145); /* Emerald - Success/Complete */
    --status-success-foreground: oklch(98% 0.005 240);

    --status-warning: oklch(75% 0.160 75); /* Amber - Warning/Caution */
    --status-warning-foreground: oklch(35% 0.090 75);

    --status-error: oklch(55% 0.180 15); /* Rose - Error/Failed */
    --status-error-foreground: oklch(98% 0.005 240);
  }

  .dark {
    /* IntelliFill Brand Theme - Dark Mode (2026-01-06) */
    /* Same Brand Teal #02C39A - AAA compliant at 6.8:1 on dark backgrounds */
    /* OKLCH Migration: Converted from HSL for perceptual uniformity */
    --background: oklch(12% 0.015 240); /* slate-950 equivalent */
    --foreground: oklch(98% 0.005 240); /* slate-50 equivalent */

    /* Glass Panels */
    --card: oklch(18% 0.018 240); /* slate-900 equivalent */
    --card-foreground: oklch(98% 0.005 240);

    --popover: oklch(18% 0.018 240);
    --popover-foreground: oklch(98% 0.005 240);

    --primary: oklch(72.87% 0.156 166.11); /* Same Brand Teal - AAA compliant */
    --primary-foreground: oklch(100% 0 0); /* White text on teal in dark mode */

    --secondary: oklch(25% 0.015 240); /* slate-800 equivalent */
    --secondary-foreground: oklch(98% 0.005 240);

    --muted: oklch(25% 0.015 240);
    --muted-foreground: oklch(65% 0.010 240);

    --accent: oklch(20% 0.04 166.11); /* Teal-900 for dark mode accent */
    --accent-foreground: oklch(80% 0.10 166.11); /* Teal-200 for text on accent */

    --destructive: oklch(45% 0.160 15); /* Darker rose for dark mode */
    --destructive-foreground: oklch(98% 0.005 240);

    --border: oklch(28% 0.012 240);
    --input: oklch(30% 0.012 240);
    --ring: oklch(72.87% 0.156 166.11); /* Same teal for focus rings */

    /* Status Colors - Dark Theme (brighter for visibility) */
    /* Using OKLCH for perceptual uniformity */
    --status-pending: oklch(65% 0.180 250); /* Brighter blue */
    --status-pending-foreground: oklch(20% 0.04 250);

    --status-success: oklch(65% 0.155 145); /* Brighter emerald */
    --status-success-foreground: oklch(20% 0.045 145);

    --status-warning: oklch(80% 0.160 75); /* Brighter amber */
    --status-warning-foreground: oklch(25% 0.040 75);

    --status-error: oklch(65% 0.180 15); /* Brighter rose */
    --status-error-foreground: oklch(20% 0.035 15);
  }

  /* Compact Mode - Reduced spacing for higher density UI */
  :root.compact {
    --radius: 0.5rem; /* 8px - Tighter corners */
  }

  :root.compact body {
    font-size: 0.875rem; /* 14px base font */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased selection:bg-primary/20 selection:text-primary;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-medium tracking-tight;
  }

  code {
    @apply font-mono;
  }
}

@layer utilities {
  .glass-panel {
    @apply bg-background/60 backdrop-blur-xl border border-white/10 shadow-xl;
  }

  .glass-card {
    @apply bg-card/50 backdrop-blur-sm border border-border/50 transition-all duration-300 hover:bg-card/70 hover:border-primary/20 hover:shadow-lg hover:shadow-primary/5;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary via-primary/70 to-accent-foreground bg-clip-text text-transparent;
  }

  .animate-in-stagger {
    @apply animate-in fade-in slide-in-from-bottom-4 duration-500 fill-mode-backwards;
  }
}

/* Compact Mode Utilities */
@layer utilities {
  /* Reduce padding in compact mode */
  :root.compact .card-content,
  :root.compact [data-slot="card-content"] {
    @apply p-4;
  }

  :root.compact .card-header,
  :root.compact [data-slot="card-header"] {
    @apply p-4 pb-2;
  }

  /* Tighter gaps in compact mode */
  :root.compact .space-y-6 {
    --tw-space-y-reverse: 0;
    margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(1rem * var(--tw-space-y-reverse));
  }

  :root.compact .space-y-4 {
    --tw-space-y-reverse: 0;
    margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));
    margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));
  }

  :root.compact .gap-6 {
    gap: 1rem;
  }

  :root.compact .gap-4 {
    gap: 0.5rem;
  }

  /* Smaller text in compact mode */
  :root.compact .text-lg {
    font-size: 1rem;
    line-height: 1.5rem;
  }

  :root.compact .text-xl {
    font-size: 1.125rem;
    line-height: 1.75rem;
  }

  :root.compact .text-2xl {
    font-size: 1.25rem;
    line-height: 1.75rem;
  }
}
