{
  "meta": {
    "generatedAt": "2026-01-10T12:07:27.922Z",
    "tasksAnalyzed": 38,
    "totalTasks": 38,
    "analysisCount": 38,
    "thresholdScore": 5,
    "projectName": "Task Master",
    "usedResearch": true
  },
  "complexityAnalysis": [
    {
      "taskId": 515,
      "taskTitle": "Fix documentService Security Vulnerability",
      "complexityScore": 4,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down Task 515 into subtasks covering: (1) refactoring documentService.ts to replace raw fetch() calls with the shared api service and remove all localStorage token access, (2) updating or adding unit/integration/security tests to verify usage of tokenManager, httpOnly cookie auth, 401 refresh flow, and absence of auth_token in localStorage references, and (3) performing regression testing on document download/delete/reprocess flows across browsers and large files.",
      "reasoning": "Change scope is localized and patterns are well-defined, but it touches security-critical auth behavior and binary responses, requiring careful regression and testing of edge cases like 401 handling and large download flows."
    },
    {
      "taskId": 517,
      "taskTitle": "Implement Delete Account Frontend Modal",
      "complexityScore": 5,
      "recommendedSubtasks": 4,
      "expansionPrompt": "Break down Task 517 into subtasks covering: (1) building the DeleteAccountModal UI with Radix AlertDialog, form validation (password + irreversible checkbox), and loading/error states, (2) wiring the modal into Settings.tsx state and Delete Account button, (3) integrating API call to DELETE /api/users/me, handling 401/validation errors, logout, and redirect to /login with toasts, and (4) adding E2E/interaction tests for open/close, validation, error handling, and successful deletion flow.",
      "reasoning": "Frontend-only but security-sensitive destructive action that must coordinate UI state, async API errors, and auth/logout behavior; patterns are standard but requires solid UX and E2E coverage."
    },
    {
      "taskId": 518,
      "taskTitle": "Implement Change Password Modal",
      "complexityScore": 6,
      "recommendedSubtasks": 5,
      "expansionPrompt": "Break down Task 518 into subtasks covering: (1) defining the react-hook-form + zod schema and password policy validation logic, (2) implementing the ChangePasswordModal UI with all fields, validation messages, and optional strength indicator, (3) wiring the modal trigger in Settings.tsx and managing open/close state, (4) integrating with the change-password backend endpoint or Supabase API, including error/success toasts and logout/login implications, and (5) adding unit tests for the schema plus integration/E2E tests for full change-password flows and edge cases (wrong current password, weak password, network errors).",
      "reasoning": "Involves moderately complex form validation, security-sensitive credential handling, coordination with auth backend, and robust UX for error states; testing must cover multiple unhappy paths and regression on login behavior."
    },
    {
      "taskId": 520,
      "taskTitle": "Implement Two-Factor Authentication Frontend Modal",
      "complexityScore": 7,
      "recommendedSubtasks": 6,
      "expansionPrompt": "Break down Task 520 into subtasks covering: (1) designing and implementing the multi-step TwoFactorSetupModal wizard (intro, QR, verify, backup) with clear state transitions, (2) integrating API calls to /api/auth/v2/mfa/enroll and /mfa/verify with loading, error, and retry handling, (3) implementing QR code rendering and secret-key fallback, (4) implementing TOTP input UX (6-digit, auto-advance, validation) and backup-code display/download/copy flows, (5) wiring the modal into Settings.tsx including mfaEnabled state and enable/disable UX, and (6) adding E2E and integration tests for complete 2FA enrollment, failure scenarios, and backup-code persistence behavior.",
      "reasoning": "Multi-step security feature with several moving parts (wizard UX, QR, TOTP, backup codes, backend contract) and high correctness requirements; UI patterns are known but coordination and error handling make it upper-mid complexity."
    },
    {
      "taskId": 526,
      "taskTitle": "Implement Export Data Functionality",
      "complexityScore": 6,
      "recommendedSubtasks": 5,
      "expansionPrompt": "Break down Task 526 into subtasks covering: (1) designing the data export shape and selecting/sanitizing Prisma queries to exclude sensitive fields, (2) implementing the GET /api/users/me/export backend endpoint with appropriate streaming/headers and performance considerations, (3) implementing the frontend export handler for JSON download and wiring it to the Settings Export Data button, (4) adding tests to validate included/excluded fields and large-data behavior, and (5) performing a privacy/security review to ensure compliance with data export expectations and no leakage of secrets or third-party identifiers.",
      "reasoning": "Touches multiple related data domains and privacy concerns; implementation itself is straightforward but requires careful schema design, query performance consideration, and explicit exclusion of sensitive fields plus robust testing."
    },
    {
      "taskId": 527,
      "taskTitle": "Implement Clear Cache Functionality",
      "complexityScore": 3,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down Task 527 into subtasks covering: (1) implementing the clear-cache handler that safely clears localStorage, sessionStorage, React Query cache, and any persisted stores while preserving critical keys like theme or auth if required, (2) wiring the handler (and optional confirmation dialog) to the Settings Clear Cache button, and (3) adding tests or manual test checklist to verify storage and cache states before/after, including edge cases like unavailable storage APIs or SSR.",
      "reasoning": "Pure frontend task with a simple imperative handler and minimal UI, but requires attention to which keys are preserved and validation that app remains functional post-clear; low algorithmic complexity and limited dependencies."
    },
    {
      "taskId": 528,
      "taskTitle": "Implement Upgrade Button Navigation",
      "complexityScore": 2,
      "recommendedSubtasks": 1,
      "expansionPrompt": "Break down Task 528 into subtasks covering: wiring the Upgrade button click handler in Settings.tsx to either show a 'Coming Soon' toast or navigate to the /billing route, and validating behavior via a simple interaction test or manual check.",
      "reasoning": "Very small, self-contained UI wiring task with trivial logic and negligible testing surface beyond verifying navigation or toast behavior."
    },
    {
      "taskId": 544,
      "taskTitle": "Implement Profile Audit Trail",
      "complexityScore": 7,
      "recommendedSubtasks": 6,
      "expansionPrompt": "Break down Task 544 into subtasks covering: (1) extending the Prisma schema with ProfileAuditLog and running migrations, (2) designing and implementing the audit logging helper to diff profile changes and create appropriate audit entries (CREATE/UPDATE/DELETE), (3) integrating logging into profile create/update/delete flows with IP/user-agent capture, (4) implementing the GET /profiles/:id/audit endpoint with pagination and authorization checks, (5) building the ProfileDetail audit history UI tab/timeline, and (6) adding tests to verify diffing correctness, log contents, endpoint security, and UI display for typical and edge-case histories.",
      "reasoning": "Introduces a new data model and cross-cutting concern (auditing) that must be correctly wired into existing mutation flows; requires careful change-diff logic, additional endpoints, UI work, and strong testing for correctness and access control."
    },
    {
      "taskId": 546,
      "taskTitle": "Implement Search Autocomplete",
      "complexityScore": 6,
      "recommendedSubtasks": 5,
      "expansionPrompt": "Break down Task 546 into subtasks covering: (1) implementing the /knowledge/autocomplete backend endpoint that queries recent searches and document titles with appropriate filters and limits, (2) defining a stable suggestions response contract and types, (3) updating SearchInterface.tsx to add debounced querying, suggestion state, and dropdown rendering, (4) implementing keyboard and mouse interactions (navigation, selection, escape behavior, focus management), and (5) adding tests for debounce behavior, minimum query length, suggestion shaping, and keyboard navigation edge cases.",
      "reasoning": "Requires coordinated backend and frontend changes, including debounced network calls, suggestion ranking, and a relatively intricate UX for keyboard navigation; algorithms are not complex but interaction design and correctness add to effort."
    },
    {
      "taskId": 547,
      "taskTitle": "Implement Document Sharing Model and Backend",
      "complexityScore": 8,
      "recommendedSubtasks": 7,
      "expansionPrompt": "Break down Task 547 into subtasks covering: (1) extending the Prisma schema with DocumentShare and SharePermission enums and running migrations, (2) designing the sharing semantics (ownership, visibility, permission levels, expiration rules), (3) implementing POST /documents/:id/share with validation, email lookups, secure access-token generation, and optional email notification integration, (4) implementing GET /shared/:token with validation of access token, expiry, and permission checks plus access-count tracking, (5) integrating authorization with existing document access rules, especially for sharedWithUserId flows, (6) adding tests for share lifecycle (creation, usage, expiration, invalid tokens, authorization failures), and (7) documenting the sharing model and potential future frontend integration requirements.",
      "reasoning": "Introduces a new sharing domain with security-critical access token handling, expiration, permissions, and data modeling; must align with existing auth and document ACLs and be thoroughly tested for abuse cases and data leaks, which makes it relatively high complexity despite limited UI scope."
    },
    {
      "taskId": 516,
      "taskTitle": "Implement Delete Account Flow Backend",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement delete account flow backend.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 519,
      "taskTitle": "Implement Two-Factor Authentication Backend",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement two-factor authentication backend.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 521,
      "taskTitle": "Connect Theme Selection to useTheme Hook",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on connect theme selection to usetheme hook.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 522,
      "taskTitle": "Implement Compact Mode Toggle with Persistence",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement compact mode toggle with persistence.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 523,
      "taskTitle": "Implement Language Preference Storage",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement language preference storage.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 524,
      "taskTitle": "Connect Processing Preferences to User Settings API",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on connect processing preferences to user settings api.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 525,
      "taskTitle": "Connect Notification Toggles to User Settings",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on connect notification toggles to user settings.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 529,
      "taskTitle": "Route Knowledge Base Page",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on route knowledge base page.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 530,
      "taskTitle": "Add Tags Field to Document Model",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on add tags field to document model.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 531,
      "taskTitle": "Create TagInput Component",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on create taginput component.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 532,
      "taskTitle": "Integrate Tags into Document Card and Filters",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on integrate tags into document card and filters.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 533,
      "taskTitle": "Add Tag Management to Document Detail Modal",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on add tag management to document detail modal.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 534,
      "taskTitle": "Implement Email Invitation Sending",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement email invitation sending.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 535,
      "taskTitle": "Integrate Form Preview into Fill Workflow",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on integrate form preview into fill workflow.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 536,
      "taskTitle": "Fix Multi-File-Type Filter",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on fix multi-file-type filter.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 537,
      "taskTitle": "Implement New Client Button Handler",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement new client button handler.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 538,
      "taskTitle": "Create Notification Database Model",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on create notification database model.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 539,
      "taskTitle": "Create Notification API Endpoints",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on create notification api endpoints.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 540,
      "taskTitle": "Create NotificationBell and NotificationCenter Components",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on create notificationbell and notificationcenter components.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 541,
      "taskTitle": "Implement Document Preview Component",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement document preview component.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 542,
      "taskTitle": "Implement Bulk Download as ZIP",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement bulk download as zip.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 543,
      "taskTitle": "Implement OCR Quality Options",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement ocr quality options.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 545,
      "taskTitle": "Remove Dead Code - Templates.tsx",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on remove dead code - templates.tsx.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 548,
      "taskTitle": "Create Document Share Modal UI",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on create document share modal ui.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 549,
      "taskTitle": "Implement Batch Form Filling UI",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement batch form filling ui.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 550,
      "taskTitle": "Implement Multi-Format Export for Filled Forms",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on implement multi-format export for filled forms.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 551,
      "taskTitle": "Remove Console Statements from Production Code",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on remove console statements from production code.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    },
    {
      "taskId": 552,
      "taskTitle": "Integrate Sentry Error Reporting",
      "complexityScore": 5,
      "recommendedSubtasks": 3,
      "expansionPrompt": "Break down this task with a focus on integrate sentry error reporting.",
      "reasoning": "Automatically added due to missing analysis in AI response."
    }
  ]
}
