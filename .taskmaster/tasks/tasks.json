{
  "master": {
    "tasks": [
      {
        "id": "1",
        "title": "Frontend: Profile Detail Page",
        "description": "Create a dedicated page at /profiles/:id to view and edit a single profile with all its stored data fields. Include sections for basic info, stored field data, and form fill history. Use React Hook Form + Zod for editing.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-01T15:34:20.546Z"
      },
      {
        "id": "2",
        "title": "Frontend: Profile Selection for Form Fill",
        "description": "Update the form fill workflow to allow users to select which profile to use when auto-filling. Add a profile selector dropdown/modal that shows available profiles with preview of key data fields.",
        "status": "done",
        "priority": "high",
        "dependencies": ["1"],
        "subtasks": [],
        "updatedAt": "2025-12-01T15:39:02.743Z"
      },
      {
        "id": "3",
        "title": "Frontend: Data Field Management UI",
        "description": "Create UI components to manage extracted/stored data fields for each profile. Allow users to view, edit, add, and delete field values. Group fields by category (personal, address, financial, etc.).",
        "status": "done",
        "priority": "high",
        "dependencies": ["1"],
        "subtasks": [],
        "updatedAt": "2025-12-01T15:43:54.382Z"
      },
      {
        "id": "4",
        "title": "Frontend: Form Fill History",
        "description": "Track and display which forms were filled using which profile. Show history on both the profile detail page and a dedicated history view. Include date, form name, and fields used.",
        "status": "done",
        "priority": "medium",
        "dependencies": ["1", "2"],
        "subtasks": [],
        "updatedAt": "2025-12-01T15:47:35.818Z"
      },
      {
        "id": "5",
        "title": "Test: Profile Detail Page",
        "description": "Write comprehensive tests for the ProfileDetail page component including unit tests and integration tests.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-01T16:05:01.932Z"
      },
      {
        "id": "6",
        "title": "Test: Profile Selector Component",
        "description": "Write tests for the ProfileSelector component used in the form fill workflow.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-01T16:08:21.780Z"
      },
      {
        "id": "7",
        "title": "Test: Profile Fields Manager",
        "description": "Write tests for the ProfileFieldsManager component that handles data field CRUD operations.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-01T16:13:47.630Z"
      },
      {
        "id": "8",
        "title": "Test: Form Fill History Card",
        "description": "Write tests for the FormFillHistoryCard component that displays form fill history entries.",
        "status": "done",
        "priority": "medium",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-01T16:15:00.563Z"
      },
      {
        "id": "9",
        "title": "Test: Integration - Profile to Form Fill Flow",
        "description": "Write integration tests for the complete flow from profile selection to form filling.",
        "status": "done",
        "priority": "medium",
        "dependencies": ["5", "6", "7", "8"],
        "subtasks": [],
        "updatedAt": "2025-12-01T16:16:52.384Z"
      },
      {
        "id": "10",
        "title": "DevOps: Fix Docker Compose Security",
        "description": "Remove hardcoded credentials from docker-compose.yml and use environment variable references. Create .env.docker.example with placeholder values.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:20:18.820Z"
      },
      {
        "id": "11",
        "title": "DevOps: Fix CI/CD Workflow Location and Paths",
        "description": "Move GitHub Actions workflows from quikadmin/.github/ to root .github/ and fix all path references.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:24:57.176Z"
      },
      {
        "id": "12",
        "title": "DevOps: Make CI Tests Blocking",
        "description": "Remove '|| true' from test commands in CI workflows to make tests actually fail the build when they fail.",
        "status": "done",
        "priority": "high",
        "dependencies": ["11"],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:25:08.656Z"
      },
      {
        "id": "13",
        "title": "DevOps: Enable TypeScript Strict Mode",
        "description": "Enable strict mode in both backend and frontend tsconfig.json files and fix resulting type errors.",
        "status": "pending",
        "priority": "medium",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T00:00:00.000Z"
      },
      {
        "id": "14",
        "title": "DevOps: Create ESLint Configuration",
        "description": "Create .eslintrc.js configuration files for both backend and frontend projects.",
        "status": "done",
        "priority": "medium",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:50:59.712Z"
      },
      {
        "id": "15",
        "title": "DevOps: Create Prettier Configuration",
        "description": "Create .prettierrc configuration file and format existing code.",
        "status": "done",
        "priority": "low",
        "dependencies": ["14"],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:52:46.036Z"
      },
      {
        "id": "16",
        "title": "DevOps: Add Git Pre-commit Hooks",
        "description": "Set up Husky and lint-staged for pre-commit validation.",
        "status": "done",
        "priority": "medium",
        "dependencies": ["14", "15"],
        "subtasks": [],
        "updatedAt": "2025-12-02T16:01:16.896Z"
      },
      {
        "id": "17",
        "title": "DevOps: Fix start-dev.bat Package Manager",
        "description": "Update start-dev.bat to use bun for frontend instead of npm.",
        "status": "done",
        "priority": "low",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:54:36.069Z"
      },
      {
        "id": "18",
        "title": "DevOps: Create Setup Automation Script",
        "description": "Create a setup.bat/setup.sh script that automates new developer onboarding.",
        "status": "done",
        "priority": "medium",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T17:42:44.526Z"
      },
      {
        "id": "19",
        "title": "DevOps: Add Frontend Hot Reload to Docker",
        "description": "Configure Docker Compose for frontend hot module replacement during development.",
        "status": "pending",
        "priority": "low",
        "dependencies": ["10"],
        "subtasks": [],
        "updatedAt": "2025-12-02T00:00:00.000Z"
      },
      {
        "id": "20",
        "title": "DevOps: Create .editorconfig",
        "description": "Add .editorconfig file for consistent editor settings across IDEs.",
        "status": "done",
        "priority": "low",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-02T15:55:54.334Z"
      },
      {
        "id": "100",
        "title": "Vector Search Phase 0: Verify/Add Organization Model",
        "description": "Ensure Organization model exists in Prisma schema with proper relationships to User, DocumentSource, and DocumentChunk entities. Critical prerequisite from Architecture Review (ARCH-002).",
        "details": "Requirements:\n1. Check if Organization model exists in quikadmin/prisma/schema.prisma\n2. If missing, add Organization model with: id (UUID), name (String), status (String, default 'active'), timestamps\n3. Update User model to include organizationId foreign key\n4. Add relations to DocumentSource and DocumentChunk\n5. Create migration: npx prisma migrate dev --name add_organization_model\n6. Update seed.ts to create test organizations\n\nFiles to modify:\n- quikadmin/prisma/schema.prisma\n- quikadmin/prisma/seed.ts",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-11T12:00:00.000Z",
        "completedAt": "2025-12-11T12:00:00.000Z",
        "implementationNotes": "Added Organization model with OrganizationStatus enum. Updated User model with organizationId FK. Added DocumentSource, DocumentChunk, and ProcessingCheckpoint models. Updated seed.ts with default and test organizations."
      },
      {
        "id": "101",
        "title": "Vector Search Phase 0: Create File Validation Service",
        "description": "Implement comprehensive file validation service with security checks for magic numbers, path traversal prevention, and malicious content detection. Critical security requirement (VULN-002).",
        "details": "Implement at: quikadmin/src/services/fileValidation.service.ts\n\nRequirements:\n1. Magic number validation using 'file-type' package\n2. Filename sanitization to prevent path traversal\n3. PDF validation to detect malicious JavaScript\n4. Decompression limits for zip bomb prevention\n5. File size validation (10MB max)\n\nDependencies to install: npm install file-type",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-11T12:00:00.000Z",
        "completedAt": "2025-12-11T12:00:00.000Z",
        "implementationNotes": "Implemented FileValidationService with magic number validation, filename sanitization, path traversal prevention, PDF security validation (JavaScript detection, embedded files check). Created comprehensive unit tests."
      },
      {
        "id": "102",
        "title": "Vector Search Phase 0: Create VectorStorageService Abstraction",
        "description": "Create abstraction layer for pgvector operations that handles raw SQL queries with proper parameterization and mandatory organization filtering. Critical for ARCH-001 and VULN-005.",
        "details": "Implement at: quikadmin/src/services/vectorStorage.service.ts\n\nRequirements:\n1. insertChunk() - Insert chunk with embedding using parameterized SQL\n2. searchSimilar() - Vector search with MANDATORY organizationId filter\n3. hybridSearch() - Combined vector + full-text search\n4. deleteChunks() - Cascade delete for source\n5. validateEmbedding() - Validate 768-dim vector format\n6. toPgVector() - Convert array to pgvector string format\n7. Set RLS context before queries\n\nSecurity: ALL methods must require organizationId parameter. Use Prisma $queryRaw with tagged templates only.",
        "status": "done",
        "priority": "high",
        "dependencies": ["100"],
        "subtasks": [],
        "updatedAt": "2025-12-11T18:00:00.000Z",
        "completedAt": "2025-12-11T18:00:00.000Z",
        "implementationNotes": "Implemented VectorStorageService with: insertChunk/insertChunksBatch for chunk storage, searchSimilar for vector search with MANDATORY org filtering, hybridSearch for combined vector+full-text, deleteChunksBySource/deleteChunk for cleanup, validateEmbedding for 768-dim validation, toPgVector for pgvector format, RLS context setting via setOrganizationContext. All queries use Prisma tagged templates for SQL injection prevention. Created comprehensive unit tests."
      },
      {
        "id": "103",
        "title": "Vector Search Phase 0: Implement Memory Manager",
        "description": "Create memory management service with heap monitoring, upload slot management, and circuit breaker pattern. Critical performance requirement (PERF-001).",
        "details": "Implement at: quikadmin/src/services/memoryManager.service.ts\n\nRequirements:\n1. checkMemory() - Monitor heap usage, warn at 75%, reject at 85%\n2. acquireUploadSlot() - Limit concurrent uploads to 5\n3. releaseUploadSlot() - Release slot after processing\n4. Circuit breaker with 5 failure threshold, 60s reset\n\nIntegration: Use in document upload endpoints and queue workers.",
        "status": "done",
        "priority": "high",
        "dependencies": [],
        "subtasks": [],
        "updatedAt": "2025-12-11T12:00:00.000Z",
        "completedAt": "2025-12-11T12:00:00.000Z",
        "implementationNotes": "Implemented MemoryManagerService with heap monitoring (75% warning, 85% critical), upload slot management (max 5 concurrent), circuit breaker pattern (5 failure threshold, 60s reset). Added EventEmitter for observability. Created comprehensive unit tests."
      },
      {
        "id": "104",
        "title": "Vector Search Phase 0: Set Up Audit Logging Infrastructure",
        "description": "Create audit logging system for all vector search operations with anomaly detection capabilities. Security requirement (VULN-003).",
        "details": "Implement:\n1. AuditLog Prisma model with userId, organizationId, action, entityType, entityId, metadata (JSON), ipAddress, userAgent, timestamp\n2. auditLogger middleware at quikadmin/src/middleware/auditLogger.ts\n3. Anomaly detection: Flag >50 searches/minute per user, flag cross-tenant access attempts, alert admin on suspicious patterns",
        "status": "done",
        "priority": "high",
        "dependencies": ["100"],
        "subtasks": [],
        "updatedAt": "2025-12-11T18:00:00.000Z",
        "completedAt": "2025-12-11T18:00:00.000Z",
        "implementationNotes": "Implemented AuditLoggerService with: log() for audit events, anomaly detection for high-frequency searches/uploads/deletes, cross-tenant attempt detection, configurable thresholds. Created createAuditMiddleware factory for Express integration with path exclusion, body logging options. Uses Redis for rate counters with in-memory fallback. Alert handlers for notification. Created comprehensive unit tests."
      },
      {
        "id": "105",
        "title": "Vector Search Phase 0: Design Document vs DocumentSource Relationship",
        "description": "Document and implement the relationship between existing Document model (form-filling) and new DocumentSource model (knowledge base).",
        "details": "Decision: Keep separate models with optional link (recommended).\n\n1. DocumentSource gets optional linkedDocumentId field\n2. Allows knowledge base docs to be independent\n3. Allows linking form-fill documents to knowledge base\n\nDocument decision in PRD, schema comments, and CLAUDE.md",
        "status": "done",
        "priority": "medium",
        "dependencies": ["100"],
        "subtasks": [],
        "updatedAt": "2025-12-11T20:00:00.000Z",
        "completedAt": "2025-12-11T20:00:00.000Z",
        "implementationNotes": "Created ADR-001-document-relationship-design.md documenting the 'Separate Models with Optional Link' decision. DocumentSource model includes optional linkedDocumentId field (no FK constraint) allowing: (1) standalone knowledge base documents, (2) optional linking to existing form-fill Documents, (3) independent lifecycle management. Schema already implemented with this design in Task #100."
      },
      {
        "id": "110",
        "title": "Vector Search Phase 1: Enable pgvector Extension",
        "description": "Enable the pgvector extension on the Neon PostgreSQL database for vector similarity search capabilities.",
        "details": "Requirements:\n1. Connect to Neon database\n2. Run: CREATE EXTENSION IF NOT EXISTS vector;\n3. Verify: SELECT * FROM pg_extension WHERE extname = 'vector';\n4. Document extension version\n\nNote: Neon supports pgvector on all plans at no additional cost.",
        "status": "done",
        "priority": "high",
        "dependencies": ["100", "102"],
        "subtasks": [],
        "updatedAt": "2025-12-11T20:00:00.000Z",
        "completedAt": "2025-12-11T20:00:00.000Z",
        "implementationNotes": "Migration 20251211000000_add_vector_search_tables includes CREATE EXTENSION IF NOT EXISTS vector; at the start. Neon PostgreSQL supports pgvector natively. HNSW index created with m=32, ef_construction=128 as per PRD specs."
      },
      {
        "id": "111",
        "title": "Vector Search Phase 1: Create Database Migration",
        "description": "Create Prisma migration for DocumentSource, DocumentChunk, and ProcessingCheckpoint tables with pgvector columns and indexes.",
        "details": "Tables: document_sources, document_chunks, processing_checkpoints\n\nIndexes:\n- HNSW index on embedding (m=32, ef_construction=128)\n- GIN index for full-text search\n- Composite indexes for common queries\n\nRow-Level Security: Enable RLS on document_sources and document_chunks with org_isolation policies.\n\nNote: Use raw SQL migration for vector columns.",
        "status": "done",
        "priority": "high",
        "dependencies": ["110"],
        "subtasks": [],
        "updatedAt": "2025-12-11T20:00:00.000Z",
        "completedAt": "2025-12-11T20:00:00.000Z",
        "implementationNotes": "Created migration 20251211000000_add_vector_search_tables.sql with: (1) organizations table + enum, (2) document_sources table with all fields, (3) document_chunks table with vector(768) embedding column, (4) processing_checkpoints table, (5) HNSW index (m=32, ef_construction=128), (6) GIN index for full-text search, (7) tsvector trigger, (8) RLS policies for org_isolation, (9) set_organization_context helper function."
      },
      {
        "id": "112",
        "title": "Vector Search Phase 1: Add Prisma Schema Models",
        "description": "Add DocumentSource, DocumentChunk, and ProcessingCheckpoint models to Prisma schema with proper relations.",
        "details": "Models to add:\n1. DocumentSource - Source document metadata with soft delete\n2. DocumentChunk - Text chunks (embedding via raw SQL)\n3. ProcessingCheckpoint - For recovery\n\nRun: npx prisma generate after schema update",
        "status": "done",
        "priority": "high",
        "dependencies": ["111"],
        "completedAt": "2025-12-11T12:00:00.000Z",
        "implementationNotes": "Completed as part of Task #100. All three models (DocumentSource, DocumentChunk, ProcessingCheckpoint) with proper relations and indexes added to schema.prisma.",
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "113",
        "title": "Vector Search Phase 1: Implement Document Extraction Service",
        "description": "Create service for extracting text from PDF, DOCX, and TXT files with security validation integration.",
        "details": "Implement at: quikadmin/src/services/documentExtraction.service.ts\n\nRequirements:\n1. Integrate with FileValidationService\n2. PDF extraction using pdf-parse\n3. DOCX extraction using mammoth\n4. Image OCR using existing Tesseract.js\n5. Page-by-page processing for memory efficiency\n\nDependencies: npm install pdf-parse mammoth",
        "status": "done",
        "priority": "high",
        "dependencies": ["101"],
        "subtasks": [],
        "updatedAt": "2025-12-11T18:00:00.000Z",
        "completedAt": "2025-12-11T18:00:00.000Z",
        "implementationNotes": "Implemented DocumentExtractionService with: extract() main method with options, extractPDF using pdf-parse with scanned PDF detection, extractDOCX using mammoth, extractText for plain text, extractImage using Tesseract.js OCR. Integrates with FileValidationService for security, MemoryManager for load control. Returns ExtractionResult with pages, metadata, confidence, warnings. Created comprehensive unit tests with mocked dependencies."
      },
      {
        "id": "114",
        "title": "Vector Search Phase 1: Implement Chunking Service",
        "description": "Create service for splitting documents into semantic chunks with configurable strategies and overlap.",
        "details": "Implement at: quikadmin/src/services/chunking.service.ts\n\nRequirements:\n1. Hybrid chunking (semantic + fixed fallback)\n2. Character-based token estimation (4 chars/token)\n3. Target: 400 tokens, max: 800, min: 100\n4. 15% overlap (60 tokens)\n5. Preserve sentence boundaries\n6. Document-type-specific configurations\n7. Text hash for deduplication",
        "status": "done",
        "priority": "high",
        "dependencies": ["113"],
        "subtasks": [],
        "updatedAt": "2025-12-11T20:00:00.000Z",
        "completedAt": "2025-12-11T20:00:00.000Z",
        "implementationNotes": "Implemented ChunkingService at quikadmin/src/services/chunking.service.ts with: (1) Hybrid/semantic/fixed chunking strategies, (2) Character-based token estimation (4 chars/token), (3) Target 400 tokens, max 800, min 100, (4) 15% overlap (60 tokens), (5) Sentence boundary preservation, (6) Document-type-specific configs (PASSPORT, BANK_STATEMENT, CONTRACT, etc.), (7) SHA-256 text hash for deduplication, (8) Section header extraction, (9) Comprehensive metadata (pageNumber, startChar, endChar). Created 60+ unit tests covering all requirements and edge cases."
      },
      {
        "id": "115",
        "title": "Vector Search Phase 1: Unit Tests for Foundation",
        "description": "Write comprehensive unit tests for FileValidation, DocumentExtraction, and Chunking services.",
        "details": "Test files in quikadmin/src/services/__tests__/\n\nScenarios:\n1. FileValidation: Magic numbers, path traversal, file size\n2. DocumentExtraction: PDF/DOCX extraction, metadata, errors\n3. Chunking: Chunk sizes, overlap, sentence boundaries, edge cases\n\nRun: npm test",
        "status": "done",
        "priority": "high",
        "dependencies": ["113", "114"],
        "subtasks": [],
        "updatedAt": "2025-12-11T20:00:00.000Z",
        "completedAt": "2025-12-11T20:00:00.000Z",
        "implementationNotes": "All unit tests created as part of their respective service implementations: (1) fileValidation.service.test.ts - Magic number validation, path traversal prevention, file size limits, PDF security checks, (2) documentExtraction.service.test.ts - PDF/DOCX/TXT extraction, OCR, metadata preservation, error handling, (3) chunking.service.test.ts - Chunk sizes, 15% overlap, sentence boundaries, document-type configs, deduplication, edge cases. All tests follow Jest conventions with mocked dependencies."
      },
      {
        "id": "120",
        "title": "Vector Search Phase 2: Implement Embedding Service",
        "description": "Create service for generating embeddings using Google text-embedding-004 API with batch processing and rate limiting.",
        "details": "Implement at: quikadmin/src/services/embedding.service.ts\n\nRequirements:\n1. Google Generative AI integration\n2. Batch with 3 concurrent batches\n3. Rate limiting, exponential backoff\n4. API key rotation support\n5. Per-organization daily quota\n6. Embedding validation (768 dimensions)\n\nDependencies: npm install @google/generative-ai",
        "status": "pending",
        "priority": "high",
        "dependencies": ["115"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "121",
        "title": "Vector Search Phase 2: Implement Embedding Cache",
        "description": "Create Redis-based caching layer for embeddings with integrity validation and TTL management.",
        "details": "Implement at: quikadmin/src/services/embeddingCache.service.ts\n\nRequirements:\n1. Cache query embeddings in Redis\n2. 24-hour TTL\n3. SHA-256 cache key\n4. Integrity validation\n5. Common query pre-warming",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["120"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "122",
        "title": "Vector Search Phase 2: Create Knowledge Processing Queue",
        "description": "Extend existing Bull queue infrastructure with knowledge processing jobs for async document processing.",
        "details": "Implement at: quikadmin/src/queues/knowledgeQueue.ts\n\nJob types: processDocument, generateEmbeddings, reprocessChunks\nFeatures: Progress reporting, checkpointing, retry with backoff\nTimeout: 10 minutes, Concurrent: 2 per worker",
        "status": "pending",
        "priority": "high",
        "dependencies": ["103", "120"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "123",
        "title": "Vector Search Phase 2: Create Knowledge Processing Worker",
        "description": "Implement Bull queue worker for full pipeline: extract -> chunk -> embed -> store.",
        "details": "Implement at: quikadmin/src/workers/knowledgeProcessor.ts\n\nPipeline: Extract text -> Chunk -> Generate embeddings (batched) -> Store vectors -> Update status\n\nFeatures: Checkpointing, memory management, incremental processing, error handling",
        "status": "pending",
        "priority": "high",
        "dependencies": ["122", "114", "120", "102"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "124",
        "title": "Vector Search Phase 2: Integration Tests",
        "description": "Write integration tests for processing pipeline with multi-tenant isolation verification.",
        "details": "Test file: quikadmin/src/__tests__/integration/knowledgeProcessing.test.ts\n\nScenarios:\n1. Full pipeline (upload -> extract -> chunk -> embed -> store)\n2. Multi-tenant isolation (Org A/B separation, RLS)\n3. Error recovery (checkpoint, resume)\n4. Memory management (50-page doc, no leaks)",
        "status": "pending",
        "priority": "high",
        "dependencies": ["123"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "130",
        "title": "Vector Search Phase 3: Create Knowledge API Routes",
        "description": "Implement REST API routes for document source management with proper authentication and validation.",
        "details": "Implement at: quikadmin/src/api/knowledge.routes.ts\n\nEndpoints:\n- POST /api/knowledge/sources/upload\n- GET /api/knowledge/sources\n- GET /api/knowledge/sources/:id\n- DELETE /api/knowledge/sources/:id\n- GET /api/knowledge/sources/:id/status\n\nMiddleware: authenticateSupabase, validateOrganization, rateLimiter, auditLogger",
        "status": "pending",
        "priority": "high",
        "dependencies": ["123", "104"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "131",
        "title": "Vector Search Phase 3: Implement Semantic Search",
        "description": "Create search API endpoint with vector similarity search, input validation, and result formatting.",
        "details": "Endpoint: POST /api/knowledge/search\n\nValidation (Zod): query 3-1000 chars, topK 1-50, minScore 0-1, filters\n\nFeatures:\n1. Validate input\n2. Check rate limit (20/min)\n3. Get query embedding (cached)\n4. VectorStorageService.searchSimilar()\n5. Format results with source info\n6. Log for analytics",
        "status": "pending",
        "priority": "high",
        "dependencies": ["130", "121"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "132",
        "title": "Vector Search Phase 3: Implement Hybrid Search",
        "description": "Create hybrid search combining vector similarity with full-text keyword search.",
        "details": "Endpoint: POST /api/knowledge/search/hybrid\n\nParameters: hybridMode ('vector'|'keyword'|'both'), hybridWeight (0-1)\n\nImplementation: Vector search + ts_rank + merge/re-rank\nFormula: finalScore = (vectorScore * weight) + (keywordScore * (1 - weight))",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["131"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "133",
        "title": "Vector Search Phase 3: Implement Search Caching",
        "description": "Add Redis caching for search results with intelligent cache invalidation.",
        "details": "Implement at: quikadmin/src/services/searchCache.service.ts\n\nFeatures:\n- 5-minute TTL\n- SHA-256 cache key (query + org + filters)\n- Invalidate on document upload/delete\n\nMethods: get(), set(), invalidateOrg()",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["131"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "134",
        "title": "Vector Search Phase 3: Rate Limiting Configuration",
        "description": "Configure rate limiting for search endpoints with per-organization limits.",
        "details": "Update: quikadmin/src/middleware/rateLimiter.ts\n\nLimits:\n- search: 20/min per org\n- suggest: 30/min per org\n- upload: 10/min per org\n\nReturn 429 with retry-after, log violations, alert on sustained hits",
        "status": "pending",
        "priority": "high",
        "dependencies": ["130"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "135",
        "title": "Vector Search Phase 3: API Tests",
        "description": "Write comprehensive API tests for search endpoints including validation and multi-tenant scenarios.",
        "details": "Test file: quikadmin/src/__tests__/api/knowledge.routes.test.ts\n\nScenarios:\n1. Upload: valid files, invalid types, size limits, auth\n2. Search: valid queries, validation errors, rate limiting\n3. Multi-tenant: Org A cannot access Org B\n4. Source management: list, delete, IDOR protection",
        "status": "pending",
        "priority": "high",
        "dependencies": ["131", "132"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "140",
        "title": "Vector Search Phase 4: Implement Form Suggestion Service",
        "description": "Create service that suggests values for form fields based on semantic search of user's knowledge base.",
        "details": "Implement at: quikadmin/src/services/formSuggestion.service.ts\n\nFeatures:\n1. Accept form field names and context\n2. Generate semantic queries\n3. Search knowledge base\n4. Extract values with regex/NLP\n5. Rank by confidence\n6. Return top N suggestions per field",
        "status": "pending",
        "priority": "high",
        "dependencies": ["131"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "141",
        "title": "Vector Search Phase 4: Create Suggestion API Endpoint",
        "description": "Implement REST endpoint for form field suggestions integrated with form fill workflow.",
        "details": "Endpoint: POST /api/knowledge/suggest\n\nRequest: formId, fieldNames[], context, maxSuggestions\nResponse: suggestions[] with value, confidence, sourceChunkId, sourceTitle\n\nIntegration: Call on form upload, display in UI, track acceptance rate",
        "status": "pending",
        "priority": "high",
        "dependencies": ["140"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "142",
        "title": "Vector Search Phase 4: Frontend - Knowledge Base UI",
        "description": "Create frontend UI for managing document sources in the knowledge base.",
        "details": "Implement at: quikadmin-web/src/pages/KnowledgeBase.tsx\n\nComponents: KnowledgeBasePage, DocumentUploader, SourceCard, SourceDetail\n\nFeatures: Drag-and-drop upload, real-time status, source list, delete, view chunks\n\nRoutes: /knowledge, /knowledge/:id\nUse: bun as package manager",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["130"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "143",
        "title": "Vector Search Phase 4: Frontend - Search Interface",
        "description": "Create search interface for semantic search with result display and filtering.",
        "details": "Implement at: quikadmin-web/src/components/knowledge/SearchInterface.tsx\n\nComponents: SearchBar, SearchFilters, SearchResults, SearchResultCard\n\nFeatures: Debounced input, filter by source/date, result highlighting, copy text",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["142"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "144",
        "title": "Vector Search Phase 4: Frontend - Form Fill Suggestions",
        "description": "Integrate knowledge base suggestions into form fill workflow UI.",
        "details": "Update: SimpleFillForm.tsx or equivalent\n\nFeatures:\n- Suggestions badge on form fields\n- Popover with suggestion list\n- Confidence score display\n- Accept/reject suggestions\n- Link to source document",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["141", "143"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "145",
        "title": "Vector Search Phase 4: Frontend Tests",
        "description": "Write component tests for Knowledge Base UI, Search Interface, and Form Fill Suggestions.",
        "details": "Test files in quikadmin-web/src/__tests__/\n\nScenarios:\n1. KnowledgeBase: source list, upload, delete, status\n2. SearchInterface: search, results, filters, empty state\n3. Suggestions: display, click fills, confidence\n\nRun: bun run test",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["142", "143", "144"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "150",
        "title": "Vector Search Phase 5: Security Penetration Testing",
        "description": "Conduct security testing for multi-tenant isolation, IDOR vulnerabilities, and SQL injection.",
        "details": "Testing areas:\n1. Multi-tenant isolation (RLS bypass attempts)\n2. IDOR (enumerate IDs, deleted sources)\n3. SQL injection (query params, filters, embeddings)\n4. File upload (path traversal, malicious PDF)\n5. Rate limiting bypass\n\nDocument findings and remediation.",
        "status": "pending",
        "priority": "high",
        "dependencies": ["135", "145"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "151",
        "title": "Vector Search Phase 5: Load Testing",
        "description": "Conduct performance testing with 100K+ vectors to verify search latency and stability.",
        "details": "Scenarios:\n1. Seed 100K chunks\n2. Search: p50/p95/p99 latency, target <100ms p95\n3. Upload: concurrent (5), target <30s/page\n4. Memory: 50-page PDF, no leaks\n5. Database: connection pool, slow queries\n\nTools: k6, Artillery, or custom",
        "status": "pending",
        "priority": "high",
        "dependencies": ["150"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "152",
        "title": "Vector Search Phase 5: Performance Optimization",
        "description": "Implement optimizations based on load testing results.",
        "details": "Optimizations:\n1. Index tuning (HNSW params, covering indexes)\n2. Query optimization (plans, JOINs)\n3. Caching (hit rate, result caching)\n4. Batch processing (sizes, parallelization)\n5. Memory (chunk footprint, streaming)\n\nDocument before/after metrics.",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["151"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "153",
        "title": "Vector Search Phase 5: Implement Anomaly Detection",
        "description": "Add anomaly detection for suspicious search patterns and potential data exfiltration.",
        "details": "Implement at: quikadmin/src/services/anomalyDetection.service.ts\n\nRules:\n1. High frequency (>50/min)\n2. Unusual patterns\n3. Cross-tenant attempts\n4. Large downloads\n5. ID enumeration\n\nActions: Log, alert, throttle, block",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["104", "150"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "154",
        "title": "Vector Search Phase 5: Monitoring & Alerting",
        "description": "Set up monitoring dashboards and alerting for vector search health metrics.",
        "details": "Metrics:\n- Processing: uploaded, processed, failed, duration\n- Search: queries, latency, results count\n- Embedding: generated, API latency, errors\n\nAlerts:\n- Processing failure rate >5%\n- Search latency p95 >500ms\n- Embedding errors >1%\n- Storage >80%",
        "status": "pending",
        "priority": "medium",
        "dependencies": ["151"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      },
      {
        "id": "155",
        "title": "Vector Search Phase 5: Documentation & Runbooks",
        "description": "Create comprehensive documentation including API docs, architecture diagrams, and operational runbooks.",
        "details": "Documentation:\n1. API: OpenAPI spec, examples, error codes\n2. Architecture: diagrams, data flow, schema\n3. Runbooks: monitoring, failures, reprocessing, key rotation\n4. Developer: setup, testing, deployment\n\nLocations: docs/reference/, docs/explanation/, docs/how-to/",
        "status": "pending",
        "priority": "low",
        "dependencies": ["152", "153", "154"],
        "subtasks": [],
        "updatedAt": "2025-12-11T00:00:00.000Z"
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2025-12-11T00:00:00.000Z",
      "taskCount": 55,
      "completedCount": 18,
      "tags": ["master", "vector-search"]
    }
  }
}
