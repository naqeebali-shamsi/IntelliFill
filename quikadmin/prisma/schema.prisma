generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_DATABASE_URL")
}

model Organization {
  id              String                   @id @default(uuid())
  name            String
  status          OrganizationStatus       @default(ACTIVE)
  createdAt       DateTime                 @default(now())
  updatedAt       DateTime                 @updatedAt
  logoUrl         String?                  @map("logo_url")
  settings        Json                     @default("{}")
  slug            String                   @unique @db.VarChar(100)
  website         String?                  @db.VarChar(255)
  documentChunks  DocumentChunk[]
  documentSources DocumentSource[]
  invitations     OrganizationInvitation[]
  memberships     OrganizationMembership[]
  users           User[]

  @@map("organizations")
}

model User {
  id              String                   @id @default(uuid())
  email           String                   @unique
  password        String
  firstName       String?
  lastName        String?
  role            UserRole                 @default(USER)
  isActive        Boolean                  @default(true)
  emailVerified   Boolean                  @default(false)
  createdAt       DateTime                 @default(now())
  updatedAt       DateTime                 @updatedAt
  lastLogin       DateTime?
  supabaseUserId  String?                  @unique
  organizationId  String?                  @map("organization_id")
  avatarUrl       String?                  @map("avatar_url")
  bio             String?                  @db.VarChar(500)
  jobTitle        String?                  @map("job_title") @db.VarChar(100)
  phone           String?                  @db.VarChar(30)
  apiUsage        ApiUsage[]
  auditLogs       AuditLog[]
  clients         Client[]
  documentSources DocumentSource[]
  documents       Document[]
  mappings        FieldMapping[]
  jobs            Job[]
  memberships     OrganizationMembership[]
  refreshTokens   RefreshToken[]
  sessions        Session[]
  templates       Template[]
  profile         UserProfile?
  settings        UserSettings?
  organization    Organization?            @relation(fields: [organizationId], references: [id])

  @@index([organizationId])
  @@map("users")
}

model OrganizationMembership {
  id             String           @id @default(uuid())
  userId         String           @map("user_id")
  organizationId String           @map("organization_id")
  role           OrgMemberRole    @default(MEMBER)
  status         MembershipStatus @default(ACTIVE)
  invitedBy      String?          @map("invited_by")
  invitedAt      DateTime?        @map("invited_at")
  joinedAt       DateTime?        @map("joined_at")
  createdAt      DateTime         @default(now()) @map("created_at")
  updatedAt      DateTime         @updatedAt @map("updated_at")
  organization   Organization     @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  user           User             @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, organizationId])
  @@index([userId])
  @@index([organizationId])
  @@index([status])
  @@map("organization_memberships")
}

model OrganizationInvitation {
  id             String           @id @default(uuid())
  organizationId String           @map("organization_id")
  email          String
  role           OrgMemberRole    @default(MEMBER)
  invitedBy      String           @map("invited_by")
  status         InvitationStatus @default(PENDING)
  expiresAt      DateTime         @map("expires_at")
  acceptedAt     DateTime?        @map("accepted_at")
  createdAt      DateTime         @default(now()) @map("created_at")
  organization   Organization     @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@unique([organizationId, email])
  @@index([email])
  @@index([status])
  @@index([expiresAt])
  @@map("organization_invitations")
}

model RefreshToken {
  id        String   @id @default(uuid())
  token     String   @unique
  userId    String
  expiresAt DateTime
  createdAt DateTime @default(now())
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("refresh_tokens")
}

model Session {
  id        String   @id @default(uuid())
  userId    String
  token     String   @unique
  ipAddress String?
  userAgent String?
  expiresAt DateTime
  createdAt DateTime @default(now())
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("sessions")
}

model Client {
  id            String           @id @default(uuid())
  userId        String           @map("user_id")
  name          String
  type          ClientType       @default(INDIVIDUAL)
  status        ClientStatus     @default(ACTIVE)
  notes         String?
  createdAt     DateTime         @default(now()) @map("created_at")
  updatedAt     DateTime         @updatedAt @map("updated_at")
  documents     ClientDocument[]
  profile       ClientProfile?
  user          User             @relation(fields: [userId], references: [id], onDelete: Cascade)
  extractedData ExtractedData[]
  filledForms   FilledForm[]

  @@index([userId])
  @@index([status])
  @@index([name])
  @@map("clients")
}

model ClientProfile {
  id           String   @id @default(uuid())
  clientId     String   @unique @map("client_id")
  data         Json     @default("{}")
  fieldSources Json     @default("{}") @map("field_sources")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")
  client       Client   @relation(fields: [clientId], references: [id], onDelete: Cascade)

  @@index([clientId])
  @@map("client_profiles")
}

model ClientDocument {
  id            String               @id @default(uuid())
  clientId      String               @map("client_id")
  userId        String               @map("user_id")
  fileName      String               @map("file_name")
  fileType      String               @map("file_type")
  fileSize      Int                  @map("file_size")
  storageUrl    String               @map("storage_url")
  category      DocumentCategory?
  status        ClientDocumentStatus @default(UPLOADED)
  createdAt     DateTime             @default(now()) @map("created_at")
  updatedAt     DateTime             @updatedAt @map("updated_at")
  client        Client               @relation(fields: [clientId], references: [id], onDelete: Cascade)
  extractedData ExtractedData?

  @@index([clientId])
  @@index([userId])
  @@index([category])
  @@index([status])
  @@map("client_documents")
}

model ExtractedData {
  id          String           @id @default(uuid())
  documentId  String           @unique @map("document_id")
  clientId    String           @map("client_id")
  rawText     String?          @map("raw_text")
  fields      Json             @default("{}")
  status      ExtractionStatus @default(PENDING)
  extractedAt DateTime?        @map("extracted_at")
  reviewedAt  DateTime?        @map("reviewed_at")
  createdAt   DateTime         @default(now()) @map("created_at")
  updatedAt   DateTime         @updatedAt @map("updated_at")
  client      Client           @relation(fields: [clientId], references: [id], onDelete: Cascade)
  document    ClientDocument   @relation(fields: [documentId], references: [id], onDelete: Cascade)

  @@index([clientId])
  @@index([documentId])
  @@index([status])
  @@map("extracted_data")
}

model FormTemplate {
  id             String        @id @default(uuid())
  userId         String        @map("user_id")
  name           String
  description    String?
  category       FormCategory?
  fileUrl        String        @map("file_url")
  fieldMappings  Json          @default("{}") @map("field_mappings")
  detectedFields Json          @default("[]") @map("detected_fields")
  isActive       Boolean       @default(true) @map("is_active")
  createdAt      DateTime      @default(now()) @map("created_at")
  updatedAt      DateTime      @updatedAt @map("updated_at")
  filledForms    FilledForm[]

  @@index([userId])
  @@index([category])
  @@index([isActive])
  @@map("form_templates")
}

model FilledForm {
  id           String       @id @default(uuid())
  clientId     String       @map("client_id")
  templateId   String       @map("template_id")
  userId       String       @map("user_id")
  fileUrl      String       @map("file_url")
  dataSnapshot Json         @map("data_snapshot")
  createdAt    DateTime     @default(now()) @map("created_at")
  client       Client       @relation(fields: [clientId], references: [id], onDelete: Cascade)
  template     FormTemplate @relation(fields: [templateId], references: [id], onDelete: Cascade)

  @@index([clientId])
  @@index([templateId])
  @@index([userId])
  @@index([createdAt(sort: Desc)])
  @@map("filled_forms")
}

model Document {
  id                  String         @id @default(uuid())
  userId              String
  fileName            String
  fileType            String
  fileSize            Int
  storageUrl          String
  status              DocumentStatus @default(PENDING)
  extractedText       String?
  extractedData       Json?
  confidence          Float?
  templateId          String?
  processedAt         DateTime?
  createdAt           DateTime       @default(now())
  updatedAt           DateTime       @updatedAt
  reprocessCount      Int            @default(0) @map("reprocess_count")
  lastReprocessedAt   DateTime?      @map("last_reprocessed_at")
  reprocessingHistory Json?          @map("reprocessing_history")
  multiAgentResult    Json?          @map("multi_agent_result")
  template            Template?      @relation(fields: [templateId], references: [id])
  user                User           @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("documents")
}

model Template {
  id            String     @id @default(uuid())
  name          String
  description   String?
  userId        String
  fieldMappings String
  isActive      Boolean    @default(true)
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
  formType      String
  isPublic      Boolean    @default(false)
  usageCount    Int        @default(0)
  documents     Document[]
  user          User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([formType])
  @@index([isPublic])
  @@map("templates")
}

model FieldMapping {
  id             String   @id @default(uuid())
  userId         String
  sourceField    String
  targetField    String
  transformRules Json?
  confidence     Float    @default(1.0)
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  user           User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("field_mappings")
}

model Job {
  id                String              @id
  type              JobType
  status            JobStatus           @default(pending)
  userId            String?
  documentsCount    Int                 @map("documents_count")
  priority          Int                 @default(0)
  startedAt         DateTime?           @map("started_at")
  completedAt       DateTime?           @map("completed_at")
  failedAt          DateTime?           @map("failed_at")
  result            Json?
  error             String?
  metadata          Json?
  retryCount        Int                 @default(0) @map("retry_count")
  createdAt         DateTime            @default(now()) @map("created_at")
  updatedAt         DateTime            @updatedAt @map("updated_at")
  user              User?               @relation(fields: [userId], references: [id])
  processingHistory ProcessingHistory[]

  @@index([userId])
  @@index([status])
  @@index([createdAt(sort: Desc)])
  @@index([type, status])
  @@map("jobs")
}

model ProcessingHistory {
  id             Int      @id @default(autoincrement())
  jobId          String   @map("job_id")
  formPath       String   @map("form_path")
  documentPaths  String[] @map("document_paths")
  outputPath     String   @map("output_path")
  filledFields   String[] @default([]) @map("filled_fields")
  confidence     Decimal? @db.Decimal(3, 2)
  processingTime Int?     @map("processing_time")
  ocrApplied     Boolean  @default(false) @map("ocr_applied")
  mlEnhanced     Boolean  @default(false) @map("ml_enhanced")
  createdAt      DateTime @default(now()) @map("created_at")
  job            Job      @relation(fields: [jobId], references: [id], onDelete: Cascade)

  @@index([jobId])
  @@index([createdAt(sort: Desc)])
  @@map("processing_history")
}

model UserSettings {
  userId                  String   @id @map("user_id")
  defaultValidationRules  Json?    @map("default_validation_rules")
  preferredLanguage       String   @default("en") @map("preferred_language") @db.VarChar(10)
  emailNotifications      Boolean  @default(true) @map("email_notifications")
  webhookUrl              String?  @map("webhook_url")
  autoOcr                 Boolean  @default(false) @map("auto_ocr")
  autoMlEnhancement       Boolean  @default(true) @map("auto_ml_enhancement")
  defaultOutputFormat     String   @default("pdf") @map("default_output_format") @db.VarChar(20)
  timezone                String   @default("UTC") @db.VarChar(50)
  createdAt               DateTime @default(now()) @map("created_at")
  updatedAt               DateTime @updatedAt @map("updated_at")
  compactMode             Boolean  @default(false) @map("compact_mode")
  digestFrequency         String   @default("never") @map("digest_frequency") @db.VarChar(20)
  notifyOnOrgInvite       Boolean  @default(true) @map("notify_on_org_invite")
  notifyOnProcessComplete Boolean  @default(true) @map("notify_on_process_complete")
  theme                   String   @default("system") @db.VarChar(20)
  user                    User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("user_settings")
}

model UserProfile {
  id             String   @id @default(uuid())
  userId         String   @unique @map("user_id")
  profileData    Json     @map("profile_data")
  lastAggregated DateTime @default(now()) @map("last_aggregated")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")
  user           User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@map("user_profiles")
}

model ApiUsage {
  id           Int      @id @default(autoincrement())
  userId       String   @map("user_id")
  endpoint     String   @db.VarChar(255)
  method       String   @db.VarChar(10)
  statusCode   Int?     @map("status_code")
  responseTime Int?     @map("response_time")
  ipAddress    String?  @map("ip_address")
  userAgent    String?  @map("user_agent")
  createdAt    DateTime @default(now()) @map("created_at")
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([createdAt(sort: Desc)])
  @@index([endpoint])
  @@map("api_usage")
}

model MlModel {
  id              Int      @id @default(autoincrement())
  modelName       String   @map("model_name") @db.VarChar(255)
  version         String   @db.VarChar(50)
  accuracy        Decimal? @db.Decimal(3, 2)
  precisionScore  Decimal? @map("precision_score") @db.Decimal(3, 2)
  recallScore     Decimal? @map("recall_score") @db.Decimal(3, 2)
  f1Score         Decimal? @map("f1_score") @db.Decimal(3, 2)
  trainingSamples Int?     @map("training_samples")
  modelPath       String?  @map("model_path")
  isActive        Boolean  @default(false) @map("is_active")
  createdAt       DateTime @default(now()) @map("created_at")

  @@unique([modelName, version])
  @@map("ml_models")
}

model AuditLog {
  id             Int      @id @default(autoincrement())
  userId         String?  @map("user_id")
  action         String   @db.VarChar(255)
  entityType     String?  @map("entity_type") @db.VarChar(100)
  entityId       String?  @map("entity_id") @db.VarChar(255)
  oldValue       Json?    @map("old_value")
  newValue       Json?    @map("new_value")
  ipAddress      String?  @map("ip_address")
  userAgent      String?  @map("user_agent")
  createdAt      DateTime @default(now()) @map("created_at")
  organizationId String?  @map("organization_id")
  metadata       Json?    @map("metadata")
  user           User?    @relation(fields: [userId], references: [id])

  @@index([userId])
  @@index([organizationId])
  @@index([entityType, entityId])
  @@index([createdAt(sort: Desc)])
  @@map("audit_log")
}

model DocumentSource {
  id               String                @id @default(uuid())
  organizationId   String                @map("organization_id")
  userId           String                @map("user_id")
  linkedDocumentId String?               @map("linked_document_id")
  title            String                @db.VarChar(255)
  filename         String?               @db.VarChar(255)
  mimeType         String?               @map("mime_type") @db.VarChar(100)
  fileSize         Int?                  @map("file_size")
  pageCount        Int?                  @map("page_count")
  storageUrl       String?               @map("storage_url")
  status           DocumentSourceStatus  @default(PENDING)
  errorMessage     String?               @map("error_message")
  chunkCount       Int                   @default(0) @map("chunk_count")
  processingTimeMs Int?                  @map("processing_time_ms")
  createdAt        DateTime              @default(now()) @map("created_at")
  updatedAt        DateTime              @updatedAt @map("updated_at")
  deletedAt        DateTime?             @map("deleted_at")
  chunks           DocumentChunk[]
  organization     Organization          @relation(fields: [organizationId], references: [id])
  user             User                  @relation(fields: [userId], references: [id])
  checkpoint       ProcessingCheckpoint?

  @@index([organizationId])
  @@index([userId])
  @@index([status])
  @@index([organizationId, status])
  @@map("document_sources")
}

model DocumentChunk {
  id             String         @id @default(uuid())
  sourceId       String         @map("source_id")
  organizationId String         @map("organization_id")
  text           String
  tokenCount     Int            @map("token_count")
  textHash       String         @map("text_hash") @db.VarChar(64)
  chunkIndex     Int            @map("chunk_index")
  pageNumber     Int?           @map("page_number")
  sectionHeader  String?        @map("section_header") @db.VarChar(255)
  embeddingModel String         @default("text-embedding-004") @map("embedding_model") @db.VarChar(100)
  metadata       Json           @default("{}")
  createdAt      DateTime       @default(now()) @map("created_at")
  updatedAt      DateTime       @updatedAt @map("updated_at")
  organization   Organization   @relation(fields: [organizationId], references: [id])
  source         DocumentSource @relation(fields: [sourceId], references: [id], onDelete: Cascade)

  @@index([sourceId])
  @@index([organizationId])
  @@index([organizationId, sourceId])
  @@index([textHash])
  @@map("document_chunks")
}

model ProcessingCheckpoint {
  id                      String         @id @default(uuid())
  sourceId                String         @unique @map("source_id")
  stage                   String         @db.VarChar(50)
  lastCompletedChunkIndex Int            @default(0) @map("last_completed_chunk_index")
  totalChunks             Int            @map("total_chunks")
  extractedText           String?        @map("extracted_text")
  chunksJson              String?        @map("chunks_json")
  startedAt               DateTime       @default(now()) @map("started_at")
  lastUpdatedAt           DateTime       @updatedAt @map("last_updated_at")
  source                  DocumentSource @relation(fields: [sourceId], references: [id], onDelete: Cascade)

  @@map("processing_checkpoints")
}

model MultiAgentProcessing {
  id               String                     @id @default(uuid())
  documentId       String                     @map("document_id")
  userId           String                     @map("user_id")
  jobId            String                     @unique @map("job_id")
  status           MultiAgentProcessingStatus @default(PENDING)
  pipelineVersion  String                     @default("1.0.0") @map("pipeline_version") @db.VarChar(20)
  priority         Int                        @default(0)
  currentAgent     String?                    @map("current_agent") @db.VarChar(50)
  agentHistory     Json                       @default("[]") @map("agent_history")
  extractedData    Json?
  multiAgentResult Json?                      @map("multi_agent_result")
  confidence       Float?
  qualityScore     Float?                     @map("quality_score")
  startedAt        DateTime?                  @map("started_at")
  completedAt      DateTime?                  @map("completed_at")
  failedAt         DateTime?                  @map("failed_at")
  errorMessage     String?                    @map("error_message")
  retryCount       Int                        @default(0) @map("retry_count")
  maxRetries       Int                        @default(3) @map("max_retries")
  metadata         Json                       @default("{}")
  createdAt        DateTime                   @default(now()) @map("created_at")
  updatedAt        DateTime                   @updatedAt @map("updated_at")
  checkpoints      MultiAgentCheckpoint[]
  comparison       ProcessingComparison?

  @@index([documentId])
  @@index([userId])
  @@index([jobId])
  @@index([status])
  @@index([createdAt(sort: Desc)])
  @@map("multi_agent_processing")
}

model MultiAgentCheckpoint {
  id                 String               @id @default(uuid())
  processingId       String               @map("processing_id")
  threadId           String               @map("thread_id")
  checkpointId       String               @map("checkpoint_id")
  parentCheckpointId String?              @map("parent_checkpoint_id")
  stateData          Bytes                @map("state_data")
  stateMetadata      Json                 @default("{}") @map("state_metadata")
  currentNode        String               @map("current_node") @db.VarChar(50)
  pendingNodes       String[]             @default([]) @map("pending_nodes")
  completedNodes     String[]             @default([]) @map("completed_nodes")
  version            Int                  @default(1)
  createdAt          DateTime             @default(now()) @map("created_at")
  processing         MultiAgentProcessing @relation(fields: [processingId], references: [id], onDelete: Cascade)

  @@unique([processingId, checkpointId])
  @@index([processingId])
  @@index([threadId])
  @@index([createdAt(sort: Desc)])
  @@map("multi_agent_checkpoints")
}

model ABTestAssignment {
  id         String        @id @default(uuid())
  userId     String        @map("user_id")
  testName   String        @map("test_name") @db.VarChar(100)
  variant    ABTestVariant
  assignedAt DateTime      @default(now()) @map("assigned_at")
  expiresAt  DateTime?     @map("expires_at")
  isActive   Boolean       @default(true) @map("is_active")
  metadata   Json          @default("{}")
  createdAt  DateTime      @default(now()) @map("created_at")
  updatedAt  DateTime      @updatedAt @map("updated_at")

  @@unique([userId, testName])
  @@index([userId])
  @@index([testName, variant])
  @@index([isActive])
  @@map("ab_test_assignments")
}

model ProcessingComparison {
  id                         String               @id @default(uuid())
  documentId                 String               @map("document_id")
  multiAgentProcessingId     String               @unique @map("multi_agent_processing_id")
  legacyResult               Json?                @map("legacy_result")
  legacyConfidence           Float?               @map("legacy_confidence")
  legacyProcessingTimeMs     Int?                 @map("legacy_processing_time_ms")
  multiAgentResult           Json?                @map("multi_agent_result")
  multiAgentConfidence       Float?               @map("multi_agent_confidence")
  multiAgentProcessingTimeMs Int?                 @map("multi_agent_processing_time_ms")
  fieldDiff                  Json?                @map("field_diff")
  matchingFieldsCount        Int?                 @map("matching_fields_count")
  totalFieldsCount           Int?                 @map("total_fields_count")
  accuracyDelta              Float?               @map("accuracy_delta")
  winner                     String?              @db.VarChar(20)
  assessedBy                 String?              @map("assessed_by")
  assessmentNotes            String?              @map("assessment_notes")
  createdAt                  DateTime             @default(now()) @map("created_at")
  updatedAt                  DateTime             @updatedAt @map("updated_at")
  multiAgentProcessing       MultiAgentProcessing @relation(fields: [multiAgentProcessingId], references: [id], onDelete: Cascade)

  @@index([documentId])
  @@index([winner])
  @@index([createdAt(sort: Desc)])
  @@map("processing_comparisons")
}

model UserFeedback {
  id               String         @id @default(uuid())
  userId           String         @map("user_id")
  documentId       String         @map("document_id")
  jobId            String?        @map("job_id")
  accuracyRating   Int            @map("accuracy_rating")
  isCorrect        Boolean        @map("is_correct")
  fieldsFeedback   Json?          @map("fields_feedback")
  comments         String?
  processingType   String         @map("processing_type") @db.VarChar(20)
  testVariant      ABTestVariant? @map("test_variant")
  documentCategory String?        @map("document_category") @db.VarChar(50)
  metadata         Json           @default("{}")
  createdAt        DateTime       @default(now()) @map("created_at")

  @@index([userId])
  @@index([documentId])
  @@index([processingType])
  @@index([accuracyRating])
  @@index([createdAt(sort: Desc)])
  @@map("user_feedback")
}

model FeatureFlag {
  id           String   @id @default(uuid())
  name         String   @unique @db.VarChar(100)
  description  String?
  enabled      Boolean  @default(false)
  percentage   Int      @default(0)
  rules        Json     @default("{}")
  targetUsers  String[] @default([]) @map("target_users")
  excludeUsers String[] @default([]) @map("exclude_users")
  createdBy    String?  @map("created_by")
  updatedBy    String?  @map("updated_by")
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  @@index([name])
  @@index([enabled])
  @@map("feature_flags")
}

model AgentMetrics {
  id               String   @id @default(uuid())
  agentName        String   @map("agent_name") @db.VarChar(50)
  modelName        String   @map("model_name") @db.VarChar(50)
  processingTimeMs Int      @map("processing_time_ms")
  tokenCount       Int?     @map("token_count")
  retryCount       Int      @default(0) @map("retry_count")
  success          Boolean
  confidenceScore  Float?   @map("confidence_score")
  qualityScore     Float?   @map("quality_score")
  errorType        String?  @map("error_type") @db.VarChar(100)
  errorMessage     String?  @map("error_message")
  documentCategory String?  @map("document_category") @db.VarChar(50)
  jobId            String?  @map("job_id")
  createdAt        DateTime @default(now()) @map("created_at")

  @@index([agentName])
  @@index([modelName])
  @@index([success])
  @@index([createdAt(sort: Desc)])
  @@index([agentName, createdAt(sort: Desc)])
  @@map("agent_metrics")
}

enum OrganizationStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
}

enum OrgMemberRole {
  OWNER
  ADMIN
  MEMBER
  VIEWER
}

enum MembershipStatus {
  PENDING
  ACTIVE
  SUSPENDED
  LEFT
}

enum InvitationStatus {
  PENDING
  ACCEPTED
  EXPIRED
  CANCELLED
}

enum ClientType {
  COMPANY
  INDIVIDUAL
}

enum ClientStatus {
  ACTIVE
  ARCHIVED
}

enum DocumentCategory {
  PASSPORT
  EMIRATES_ID
  TRADE_LICENSE
  VISA
  LABOR_CARD
  ESTABLISHMENT_CARD
  MOA
  BANK_STATEMENT
  OTHER
}

enum ClientDocumentStatus {
  UPLOADED
  PROCESSING
  EXTRACTED
  FAILED
}

enum ExtractionStatus {
  PENDING
  COMPLETED
  REVIEWED
  FAILED
}

enum FormCategory {
  VISA
  COMPANY_FORMATION
  LABOR
  IMMIGRATION
  BANKING
  GOVERNMENT
  OTHER
}

enum UserRole {
  ADMIN
  USER
  VIEWER
}

enum DocumentStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  ARCHIVED
  REPROCESSING
}

enum JobStatus {
  pending
  processing
  completed
  failed
}

enum JobType {
  single
  multiple
  batch
}

enum DocumentSourceStatus {
  PENDING
  EXTRACTING
  CHUNKING
  EMBEDDING
  COMPLETED
  FAILED
}

enum MultiAgentProcessingStatus {
  PENDING
  CLASSIFYING
  EXTRACTING
  MAPPING
  VALIDATING
  RECOVERING
  COMPLETED
  FAILED
  CANCELLED
}

enum ABTestVariant {
  CONTROL
  TREATMENT
}
