---
phase: 04-pro-features
plan: 03
type: execute
wave: 2
depends_on: ['04-02']
files_modified:
  - quikadmin-web/src/pages/FormAnalytics.tsx
  - quikadmin-web/src/stores/formAnalyticsStore.ts
  - quikadmin-web/src/App.tsx
autonomous: false
---

<objective>
Build Form Analytics dashboard UI with usage visualizations.

Purpose: PRO agents need to understand form usage patterns to optimize their workflow and identify most valuable templates.

Output: Interactive FormAnalytics page with overview cards, top templates list, and usage trend chart.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-pro-features/04-02-SUMMARY.md

# Service created in 04-02:

@quikadmin-web/src/services/formAnalyticsService.ts

# Existing UI patterns:

@quikadmin-web/src/pages/FilledFormHistory.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create formAnalyticsStore.ts</name>
  <files>quikadmin-web/src/stores/formAnalyticsStore.ts</files>
  <action>
Create Zustand store for form analytics state.

State:

- `overview: FormAnalyticsOverview | null`
- `trends: UsageTrends | null`
- `selectedTemplate: TemplateAnalytics | null`
- `loading: boolean`
- `error: string | null`

Actions:

- `fetchOverview()` - Load analytics overview
- `fetchTrends()` - Load usage trends
- `selectTemplate(templateId: string)` - Load template-specific analytics
- `clearSelectedTemplate()` - Clear selection
- `reset()` - Reset to initial state

Follow existing store patterns with immer middleware.
</action>
<verify>TypeScript compiles</verify>
<done>formAnalyticsStore.ts exports store with overview, trends, and template analytics</done>
</task>

<task type="auto">
  <name>Task 2: Build FormAnalytics.tsx page</name>
  <files>quikadmin-web/src/pages/FormAnalytics.tsx, quikadmin-web/src/App.tsx</files>
  <action>
Create FormAnalytics dashboard page.

Layout:

1. PageHeader: "Form Analytics"

2. Overview Cards (3-column grid on desktop):
   - Total Forms Generated (with month/week breakdown below)
   - Forms This Month (with comparison to previous month indicator)
   - Status Breakdown (draft/completed/submitted as inline badges)

3. Top Templates Section:
   - Ranked list of top 5 templates by usage
   - Each shows: name, usage count, last used date
   - Click to expand template details (optional - can show inline or modal)

4. Usage Trends Section:
   - Simple bar chart or trend line showing daily usage (last 30 days)
   - Use CSS-based chart (no external charting library needed):
     - Horizontal bars with relative widths
     - Show date labels for key points (start, middle, end of period)
   - Display weekly average and trend indicator (up/down/stable arrow)

5. Empty/Loading States:
   - Skeleton loaders while fetching
   - Empty state when no form usage yet

Components to use: Card, Badge, PageHeader, EmptyState
Icons: FileText, TrendingUp, TrendingDown, Calendar, BarChart

Add route in App.tsx: `/analytics/forms` -> FormAnalytics

Style notes:

- Use semantic status colors for badges (completed=success, draft=warning, submitted=info)
- Cards should have subtle hover state
- Responsive: Stack cards on mobile, grid on desktop
  </action>
  <verify>`bun run build` succeeds</verify>
  <done>FormAnalytics page renders with overview, top templates, and trends visualization</done>
  </task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Form Analytics dashboard with usage overview, top templates, and trend visualization</what-built>
  <how-to-verify>
    1. Ensure backend is running: `cd quikadmin && npm run dev`
    2. Ensure frontend is running: `cd quikadmin-web && bun run dev`
    3. Navigate to: http://localhost:8080/analytics/forms
    4. Verify:
       - Overview cards display totals (may show 0 if no forms generated yet)
       - Top templates section shows ranked list (or empty state)
       - Usage trends section shows chart (or empty state if no data)
       - Page is responsive (resize browser window)
       - Loading states appear briefly on initial load
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd quikadmin-web && bun run build` succeeds
- [ ] `/analytics/forms` route accessible
- [ ] Overview cards display analytics data
- [ ] Top templates list renders
- [ ] Usage trends visualization renders
- [ ] User approved visual layout
</verification>

<success_criteria>

- All tasks completed
- FormAnalytics page functional
- Visual verification passed by user
- No TypeScript errors
  </success_criteria>

<output>
After completion, create `.planning/phases/04-pro-features/04-03-SUMMARY.md`
</output>
