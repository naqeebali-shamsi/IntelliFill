---
phase: 08-polish
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - quikadmin-web/src/components/layout/AppLayout.tsx
  - quikadmin-web/src/components/features/ocr/OCRScanning.tsx
  - quikadmin-web/src/pages/ConnectedUpload.tsx
autonomous: true

must_haves:
  truths:
    - "Mobile navigation is accessible with fewer taps"
    - "OCR animation is subtle and non-distracting"
    - "Upload page animation does not distract from progress"
    - "Mobile sidebar opens cleanly and closes on navigation"
  artifacts:
    - path: "quikadmin-web/src/components/layout/AppLayout.tsx"
      provides: "Improved mobile navigation"
      contains: "mobile"
    - path: "quikadmin-web/src/components/features/ocr/OCRScanning.tsx"
      provides: "Reduced animation"
      contains: "duration"
  key_links:
    - from: "AppLayout.tsx"
      to: "navigation items"
      via: "Sheet component"
      pattern: "SheetContent"
---

<objective>
Fix mobile navigation UX issues and reduce upload page animation intensity.

Purpose: Mobile users can navigate efficiently, upload page doesn't distract with excessive animation.
Output: Smoother mobile experience, calmer upload page visuals.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-polish/08-CONTEXT.md

@quikadmin-web/src/components/layout/AppLayout.tsx
@quikadmin-web/src/components/features/ocr/OCRScanning.tsx
@quikadmin-web/src/pages/ConnectedUpload.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix mobile navigation UX</name>
  <files>quikadmin-web/src/components/layout/AppLayout.tsx</files>
  <action>
Improve mobile navigation to require fewer taps and be more intuitive:

**1. Auto-close sidebar on navigation (already implemented via setSidebarOpen):**
- Verify all nav items call `setSidebarOpen?.(false)` on click
- Confirm this is working correctly

**2. Add bottom navigation bar for mobile:**
Create a fixed bottom navigation bar that shows on mobile only:
```tsx
{/* Mobile Bottom Nav - shows on small screens */}
<nav className="fixed bottom-0 left-0 right-0 md:hidden bg-background/95 backdrop-blur-lg border-t border-white/10 z-50 safe-area-inset-bottom">
  <div className="flex justify-around items-center h-16 px-2">
    {[
      { name: 'Home', href: '/dashboard', icon: LayoutDashboard },
      { name: 'Profile', href: '/smart-profile', icon: Sparkles },
      { name: 'Docs', href: '/documents', icon: Files },
      { name: 'Templates', href: '/templates', icon: LayoutTemplate },
      { name: 'More', href: '#more', icon: Menu, isMore: true },
    ].map((item) => {
      const Icon = item.icon;
      const isActive = item.isMore ? false : location.pathname === item.href;

      if (item.isMore) {
        return (
          <button
            key={item.name}
            onClick={() => setSidebarOpen(true)}
            className={cn(
              'flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-lg transition-colors',
              'text-muted-foreground hover:text-foreground'
            )}
          >
            <Icon className="h-5 w-5" />
            <span className="text-[10px] font-medium">{item.name}</span>
          </button>
        );
      }

      return (
        <Link
          key={item.name}
          to={item.href}
          className={cn(
            'flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-lg transition-colors',
            isActive
              ? 'text-primary'
              : 'text-muted-foreground hover:text-foreground'
          )}
        >
          <Icon className={cn('h-5 w-5', isActive && 'text-primary')} />
          <span className="text-[10px] font-medium">{item.name}</span>
        </Link>
      );
    })}
  </div>
</nav>
```

**3. Add bottom padding to main content for mobile:**
Update main element className:
```tsx
<main className="flex-1 overflow-y-auto overflow-x-hidden p-6 pb-20 md:pb-6 relative">
```
The `pb-20 md:pb-6` ensures content doesn't hide behind bottom nav on mobile.

**4. Add CSS for safe area (iOS notch/home indicator):**
The `safe-area-inset-bottom` class should use CSS env() for iPhone home indicator:
```tsx
// Add to the nav className or create a utility class
style={{ paddingBottom: 'env(safe-area-inset-bottom)' }}
```

**5. Keep hamburger menu in header for full navigation access:**
- The existing hamburger button opens the Sheet with full nav
- "More" in bottom nav also opens the Sheet
- Both routes to full navigation are preserved
  </action>
  <verify>
On mobile viewport: bottom nav visible with 5 items
Tapping nav item navigates and highlights active state
"More" button opens sidebar sheet
Sidebar closes on navigation item click
Content not hidden behind bottom nav
TypeScript compiles: `cd quikadmin-web && bun run typecheck`
  </verify>
  <done>
Mobile has bottom navigation bar with quick access to main features, "More" opens full sidebar.
  </done>
</task>

<task type="auto">
  <name>Task 2: Reduce upload page animation intensity</name>
  <files>quikadmin-web/src/components/features/ocr/OCRScanning.tsx, quikadmin-web/src/pages/ConnectedUpload.tsx</files>
  <action>
Reduce animation intensity on the upload page to be less distracting:

**1. Update OCRScanning.tsx:**

a) Slow down the scanning line animation:
```tsx
// Change from duration: 3 to duration: 5 (slower sweep)
transition={{
  duration: 5,  // was 3
  ease: "easeInOut",
  repeat: Infinity,
  repeatType: "loop"
}}
```

b) Reduce the glow intensity:
```tsx
// Change shadow blur from 20px to 10px
className="absolute left-0 right-0 h-0.5 bg-primary/30 shadow-[0_0_10px_1px_rgba(99,102,241,0.3)] z-10"
// was: h-1 bg-primary/50 shadow-[0_0_20px_2px_rgba(99,102,241,0.5)]
```

c) Make the scanning badge more subtle:
```tsx
<div className="absolute right-0 -top-1 p-0.5 bg-primary/70 text-[8px] text-white font-mono rounded-l shadow-sm flex items-center gap-0.5">
  <Sparkles className="h-1.5 w-1.5" /> OCR
</div>
// Smaller, less prominent
```

d) Reduce the pulsing dot animation:
```tsx
{isScanning && (
  <span className="absolute -top-0.5 -right-0.5 flex h-2 w-2">
    <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-secondary/50 opacity-50"></span>
    <span className="relative inline-flex rounded-full h-2 w-2 bg-secondary/70"></span>
  </span>
)}
// Smaller (h-2 w-2 vs h-3 w-3) and more transparent
```

**2. Update ConnectedUpload.tsx:**

a) Reduce the background glow in the dynamic illustration area:
```tsx
// In the glass-panel containing OCRScanning
<div className="absolute inset-0 bg-gradient-to-br from-primary/3 via-transparent to-secondary/3" />
// was: from-primary/5 ... to-secondary/5
```

b) Remove or reduce the pulsing text animation:
```tsx
<h3 className="text-center text-sm font-medium mb-4 text-primary/70">
  {currentProcessingFile.status === 'uploading'
    ? 'Uploading Document...'
    : 'Analyzing Content...'}
</h3>
// Remove animate-pulse class, use text-primary/70 instead of text-primary
```

c) Reduce shadow intensity on the OCR container:
```tsx
<div className="max-w-[200px] mx-auto shadow-lg shadow-primary/10 rounded-xl">
  <OCRScanning isScanning={true} />
</div>
// was: shadow-2xl shadow-primary/20
```

**3. Optional: Add reduced-motion support:**
```tsx
// In OCRScanning.tsx, respect user preference
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

// Use in animation
{isScanning && !prefersReducedMotion && (
  <motion.div ...>
    {/* scanning line */}
  </motion.div>
)}
```

The goal is a calmer, more professional feel that doesn't compete for attention with the actual upload progress.
  </action>
  <verify>
Upload page animations are noticeably calmer
OCR scanning line moves slower (5s vs 3s cycle)
Glow effects are more subtle
Upload still shows progress indication (not completely static)
TypeScript compiles: `cd quikadmin-web && bun run typecheck`
App runs and upload page visually tested
  </verify>
  <done>
Upload page animations reduced to subtle, non-distracting level while still indicating activity.
  </done>
</task>

</tasks>

<verification>
1. Mobile viewport (< 768px) shows bottom navigation bar
2. Bottom nav has: Home, Profile, Docs, Templates, More
3. Tapping "More" opens full sidebar sheet
4. Navigation closes sidebar properly
5. Content scrolls without being hidden by bottom nav
6. Upload page OCR animation is visibly slower and subtler
7. Glow effects are reduced
8. Progress indication still visible during processing
9. TypeScript compiles without errors
10. All routes still accessible on both mobile and desktop
</verification>

<success_criteria>
- Mobile users can navigate with 1 tap for main features
- "More" button provides access to full navigation
- Upload page feels calmer and more professional
- Animation still provides feedback but doesn't distract
- All existing functionality preserved
</success_criteria>

<output>
After completion, create `.planning/phases/08-polish/08-03-SUMMARY.md`
</output>
